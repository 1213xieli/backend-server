{"version":3,"sources":["webpack:///./src/assets/icon-takePhoto.png","webpack:///src/views/business/goOutApplication/takePhotoList.vue","webpack:///./src/views/business/goOutApplication/takePhotoList.vue?e0d7","webpack:///./src/views/business/goOutApplication/takePhotoList.vue"],"names":["module","exports","takePhotoList","name","data","newPhotoList","photoList","currentPhotoInfo","serverId","id","maxNum","minNum","recordId","cameraData","isNewFoto","isTakePhoto","popupVisible","imgsrc","components","myHeader","Header","created","_this2","this","$route","params","rcordId","allPhotoLists","length","forEach","item","itemId","push","console","log","initWxConfig","computed","extends_default","Object","vuex_esm","methods","showImg","index","img","src","hideImg","getBase64ByLocalId","localId","v","_weixin_js_sdk_1_4_0_test_weixin_js_sdk_default","a","getLocalImgData","toString","success","res","localData","uploadImg","addPhoto","takePhoto","ready","chooseImage","count","sizeType","sourceType","localIds","loadId","wxUtil","uploadImage","isShowProgressTips","photo","serviceId","isDelete","$toast","message","duration","fail","stringify_default","deletePhoto","_this","mint_ui_common","confirm","then","action","splice","indexData","config","debug","appId","signature","timestamp","nonceStr","jsApiList","goBack","$router","submitData","imgList","map","imgType","newArr","$store","commit","goOutApplication_takePhotoList","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","max-width","box-sizing","attrs","title","fixed","slot","icon","on","click","_v","_l","$event","_e","Number","__webpack_require__","alt","position","model","value","callback","$$v","expression","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.fc67c1eda783a16c05d1.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAA1CAYAAAAasVavAAAL80lEQVRoQ91be3BcVRn/vnPuzWazaZKmDU3TpNlttyRaHqPxMTAojAIzjorjYyqIIvhARIojClJGILYzUKD+A4iAyKPIa2B0FB8I2oKojNLQiUMytF2ym3TbpElpdpPsbvbee87nfMtdJg2b7G72prTemTvTdu+595zf+X6/73WKUOAiIhmPx+tt2zYREWc+4vf7dSKRyHR0dEwhIhUav2/fPp/P5ztVa30ZAIQQUWitCz06778JIfK/j2qtI0S0Uyn1xu7du49s2LBBlf3CIgOOWig/S0QYiURWGYaxERHDiChnvoOIMoi4I5PJPNnZ2Tk5+/07d+40QqHQaQDwEwD4GAD4Z+FZ9hqIiBc+TUSDQogdWuuHg8HgPkT0FJBCYIhIJPI+0zS3I2IHW8ms2acQ8enp6ekbOzo6Ds/6Dfv7+5v9fv/1iPhVAFgKAO/6RtlovD2ArdABgHEA+L1pmptbWlric1nnQr5REIyhoaFOrfWDALCGTXw2GDwZwzC6W1tb35r5W29vb6Curu4CRLwFAFYDwOyxC5nj7DHMt2EAuDUQCGxvamp6l3Uu9CMFd62vr6/R7/efCwBNsxeEiJZhGG84jvPvUCg0nf8wW1AsFjtVCHGb1vpsRPQtdFLFxhGRjYiv2ra9MRwO93pFl4JgsG7E4/HqZDIpTzrppKPmNjo6Cj6fz163bl02/0N3d7e45JJL2oQQ1wHARQDQ4CE9Cmo8ACQB4HGt9e3bt2/f393dXb5Cz+a4+3eMRqM+x3GqqqurjampqZJ4Xltbm/MmWusGImLP8U0AWLFI9ChEl0MA8CtEfEgIkeAHypn79PS0YxiGFQqFeGMJ2QpGRkaWZzKZM6SUnUTEi6lCxFKQJiLSiNhCRGcDAJvRYujEXMzhOY4i4ktEdNDVt6IbSUQ8RwsRD7Gr9vv9rzQ3Nx/GPXv2rPL5fN8goq8h4jIAMBigYrzl32couQEA1ccYiPwUGRDWLvY0udCgjLk7RPQWIj6azWYfZHqwG/wOALS5iynpZaV88AR4hmnOYO4novswFovtAoD17s6eAPMvPkWmOBGxDthMeQBgzzbfJrNl9TEY7Kdr3iMTL76y8p/gnR4DgH8S0X4OHAHgI66Hm0vPeEwaBwcHlcuzY0UPNk2+OZTO3/klc7Sbv3k+5c6J3ztORL80DOMBRBy3LKtVCLERADYAQO0c7yTWP7aMgslW+RtSdAR/xwKADBFxSM1ukXdwXAjO4zTvGofvHOitQET+s98185JAQUQWxD4hxLfa2tp2czDGSWNVVdXHtdbsglvnA/hYgJEH4QgRvQ4ArxHRv6SUr2ut047jvJNsGYYhhRA1SqlTpJRnElEXAJzigsTcLwYKawS//9JHHnlkLwdibuLINHkMANrfSzCYiwlE7CWiZ5RSfzUMY8yyrHQ4HLZefPFF2draKg3DQMdxKB6Pq3POOUdFIpEqy7ICgUBgBRGdh4ifR8TTiIgj2/niGAb+EBFtzmazv3McZyIQCCwXQlxORN8FgPr3Aoy8y+KE6kml1FNa673hcHiqr6/PCAQCNURUL4RoUUo1SimrlFKWlPKI1pqDp2QqlUr39/errq4u5vnJhmFcDABfBICVBTLpmRzleONNAPgTAERcT3kBj3P1aE4+LxZN2PRjLGSO4zwWDodHeEei0WijYRinO47DidyHEZFjG653CI5kXT1hn/+qYRgvOY7TGwqFjvT09EBDQ0OzlPJiRLyCuT8PICyG7BRSrFFEVM3Uc6POeWm2GGDkghit9TYAeDoUCo2NjY3VTE1NfQARv4SInyai5YhYjYgcueZSAjea5fCeRXAaEQ8T0R+ZXrW1tbubmprSg4ODLKxfJ6LvAUBLCZTJW0Exrck95zUYTI8xrfUDQoi729vbD8VisTohxHlEdLUrhnUlxjQM6gQAvI6Id2qtXwgGgxORSKTFrcJxYri8BFEt6ubeQcxD18pAZADgOU7l29raogMDA0sMw/is1vo6RDy5HDfpTjDniYhorxDidsdxnu3p6Znq6upaI6XcCgCfct1vyQue70HPLMPlaRQAriOiP7N3ME3zE1rrzewJENFc4C4ydWwi+q8Q4ibbtnew9yGizyDiNld3PMmUPQMDACaJ6HFE/CnTIxKJhEzTvAMAznfD/ZJ4O8fOsYWkAeB527avDYfD0f379zcrpW5hHQKAgBem4RUYrIBxpdQ1iPiHQCBgpFIpLgncCADNC7SI2etjQEaIaEsgEOCUWzmO8zlE/JnrNisB21MBzSLi323bvnLt2rUDsVhstRDiTg6YPM6G2cu8oLW+OhaLxdeuXduplLofAD7k0rAiA/HEMohoUgjxkJRycyKRmKypqTlbCHEvAARL9BylLoI9TExrfUU6nX5p2bJl9ZZlbSEiDsg4OKvo8gQMAODIcatS6j6lFPn9/suIiCnClbOKzXfGCpmO3J7YkslkGHw0TZMLU9cDQGNFSHgUZ7DaH0bEG6qrq5/IZrNVRLQJAC53c4FK53jUeCJKSil/TkTbEomEVV9ffxERsZBytlvR5YVlMBiHEPFHUsrfZLNZji04BuD6gScqP3OFiDhFRE/5fL5No6Oj6fr6+i8T0dbjBgwAOKi1vmZkZOTZUChUOz09fYeXLq8QGLZtb0qn08clGFyk2ZRMJp8yDMMXCAQ2EdHliMiht9dXEhF/AQC3M02WLFlyISLeerxYBi+Wy+2b/X7/g8lkUpimyXrBulGxqBVA8ggAbLVtOyfW1dXV3waAG1yxrgh4LzSDJ8Ctvvs5X3AcJ42InDPcCQCrvPYmAHAAAK7mkD+dTtewFQIAA8KFm4our8DgUvvfAGBje3v7UDQaDQsh7iGisxCRy3VeXbngTim1MRQKRWKxWBsi3g0An/QiuPMKjFwwJIS4cmJiYqdbybpKCPF9D2ONXHkAALZx1Km1nubSgJSSLZBrmxUna16Bwe6Vaw/3cnK2atWq8cHBwQ6t9V1CiLPcJk4l1sHv597oy1rrq0Kh0L7h4eFGy7J+7FKEhbri4M4rMLjv6mit+9k6xsbG/mOaZlVDQ8MXiOhmRAwWqVsWA4rLiG8i4pZEIvFb27atxsbGMxCRwX4/EXHFrOLLMzDe7vnSJCI+Ztv2LeFw+GAkEllmmualRHTljLpDOTuYLywPEdFdPp/v0ZUrVx4ZHh5utSzrJiLagIhzNYbKBsdLMPjjrB0HAeA2KeXjra2tiVgsxscULgQALuTy0Sbu1pcCSL5yNkhE9xPRE1xPdelxKQD8wC0PVKwVedS8BiNHFy7Tce9Ca/3cmjVrJg8cOLBUKcVVr68AwEcRsZ69jEudmcDkK9vceePDJ68IIX6dSqVe7uzsHOcyopSSK1w3E9GaYqX/ck3DczDcPirXLXuFENuklDtYUOPxuI+IuE9yPiKyqK5HRLYak0Fxz2VxeW+UO+JE9A/HcZ43DONAMBi08oACwLVEdDqPK9HCSsZkMcDgj+dbivsA4OGqqqpnUqnUSDgctvv6+mpqa2uXICLvbIibSURUh4gT3DwCgCgRDUxNTU2uX78+HYlEzEAg0GxZFpf3mB7rFlBYLgmQxQIjDwh7AY4NdiilnpRS9nDTORgM2j09Pcx1c/Xq1UJKKZRSemhoiDXH7urq0vF4nLtsDUqpLikla84n3KY0d+lL0ZySADgqCfSwVVDw4+7ZsLTW+gCbvpTyL0KIPclkko9AZ/1+v8pms9rn84lMJsONZ19NTc0KIcR6IjoXEc9ERA7r812xshdZ6oDFtIyZc8i5SETk4wgTRBQHgDdcz8PU4JtzC75bhBCdAMDHB+qIiI8lsBUtijUcU8sosCv5Y88sso4rnEwP7reykHIAxflMrvVY6q568dyxsgwv5rro72Aw8uc9j+kuLPrKyvtA7vQSg8GdKj4N51kkV948joun2SCyfGZiLyJyCuxl3eG4WGEZk2D9ijEY9/CJGCHEcvdARxnvOPEfdc+MjnHFHQcGBrhD/kNE5P9SUerZiRMfhbdXkDsDwi3LXEd/165d5tKlS0NSSg53P0hES/5fVlpsHYjIB4JfU0o9Mz4+Hv0fSdX6Ch+8QNoAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/icon-takePhoto.png\n// module id = 3V91\n// module chunks = 12","<template>\n  <div style=\"max-width: 100%;box-sizing: border-box;\" class=\"container\">\n    <mt-header title=\"拍照记录\" fixed>\n      <mt-button icon=\"back\" slot=\"left\" @click=\"submitData\">返回</mt-button>\n    </mt-header>\n    <div class=\"mt4 list-block\">\n      <div class=\"photoList\">\n        <div class=\"photo-item\"  v-for=\"(item,index) in newPhotoList\">\n          <img :src=\"item.img\" class=\"imgStyle\" v-if=\"item.img\" @click=\"showImg(index)\">\n          <img :src=\"item.src\" class=\"imgStyle\" v-else @click=\"showImg(index)\">\n          <div class=\"delete\" v-if=\"item.isDelete\">\n            <span @click=\"deletePhoto(index)\">x</span>\n          </div>\n        </div>\n        <div class=\"photo-item add\"  @click=\"addPhoto\" v-if=\"isTakePhoto&&this.newPhotoList.length!==Number(this.maxNum)\">\n          <img src=\"../../../assets/icon-takePhoto.png\" alt=\"\">\n        </div>\n      </div>\n    </div>\n    <!--<div class=\"submit\"  v-if=\"isTakePhoto\">\n      <mt-button type=\"primary\" size=\"large\" @click=\"submitData\">确定</mt-button>\n    </div>-->\n    <mt-popup\n      v-model=\"popupVisible\"\n      position=\"right\">\n      <div class=\"popImg\">\n        <img :src=\"this.imgsrc\" alt=\"\" @click=\"hideImg\">\n      </div>\n    </mt-popup>\n  </div>\n</template>\n\n<script>\n  import wx from \"weixin-js-sdk\";\n  import myHeader from \"@/components/Header\";\n  import {getOSType} from \"@/utils/wxUtil\";\n  import {mapMutations,mapGetters} from 'vuex'\n  import {MessageBox,Indicator} from  'mint-ui'\n    export default {\n        name: \"takePhotoList\",\n        data() {\n            return {\n              newPhotoList:[],\n              photoList:[],\n              currentPhotoInfo: {},\n              serverId:[],\n              id:'',\n              maxNum:2,\n              minNum:1,\n              name:'',\n              recordId:'',\n              cameraData:[],\n              isNewFoto:false,\n              isTakePhoto:true,\n              popupVisible:false,\n              imgsrc:''\n            }\n        },\n        components:{\n          myHeader\n        },\n        created(){\n          this.id=this.$route.params.id;\n          this.maxNum=this.$route.params.maxNum;\n          this.minNum=this.$route.params.minNum;\n          this.rcordId=this.$route.params.rcordId;\n          this.isNewFoto=this.$route.params.isNewFoto;\n          this.name=this.$route.params.name;\n          this.isTakePhoto=this.$route.params.isTakePhoto;\n          this.photoList=this.allPhotoLists.photoList==''?this.photoList:this.allPhotoLists.photoList;\n          if(this.photoList!=\"\"){\n            if(this.photoList.length>0){\n              this.photoList.forEach((item)=>{\n                if(item.itemId==this.id){\n                  this.newPhotoList= item.photoList;\n                  if(item.data){\n                    if(item.data.length>0){\n                      if(item.data[0].serverId!=null){\n                        this.serverId.push(item.data[0].serverId)\n                      }\n\n                    }\n                  }\n                }\n              });\n            }\n          }\n          if(this.isNewFoto=='true'||this.isNewFoto===true){\n            this.cameraData=[\"camera\"];\n          }else{\n            this.cameraData=['album',\"camera\"];\n          }\n          console.log(this.newPhotoList,'dse');\n          //获取设置签名信息，并授权拍照\n          this.initWxConfig();\n        },\n        computed: {\n          ...mapGetters([\"signature\",'allPhotoLists'])\n        },\n        methods: {\n          showImg(index){//显示弹框效果\n            this.popupVisible=true;\n            this.imgsrc=this.newPhotoList[index].img?this.newPhotoList[index].img:this.newPhotoList[index].src;\n          },\n          hideImg(){\n            this.popupVisible=false\n          },\n          getBase64ByLocalId(localId) {\n            const v = this;\n            wx.getLocalImgData({\n              localId: localId.toString(), // 图片的localID\n              success: res => {\n                v.currentPhotoInfo.src = res.localData;\n                v.uploadImg()\n              }\n            });\n          },\n          addPhoto() {\n            this.takePhoto();\n          },\n          takePhoto(){\n            let v = this;\n            wx.ready(function () {\n              wx.chooseImage({\n                count: 1, // 默认9\n                sizeType: [\"original\", \"compressed\"], // 可以指定是原图还是压缩图，默认二者都有\n                sourceType:v.cameraData, // 可以指定来源是相册还是相机，默认二者都有\n                success: function (res) {\n                  const localId = res.localIds;\n                  v.currentPhotoInfo.loadId = localId;\n                  if (getOSType() === 1) {\n                    v.currentPhotoInfo.src = localId;\n                    v.uploadImg()\n                  } else if (getOSType() === 2) {\n                    v.getBase64ByLocalId(localId);\n                  }\n                }\n              });\n            });\n          },\n          uploadImg() {\n            let v = this;\n            wx.uploadImage({\n              localId: this.currentPhotoInfo.loadId.toString(), // 需要上传的图片的本地ID，由chooseImage接口获得\n              isShowProgressTips: 1, // 默认为1，显示进度提示\n              success: function (res) {\n                // v.$toast(res.serverId);\n                const photo = v.currentPhotoInfo;\n                photo.serviceId = res.serverId;\n                v.currentPhotoInfo = {};\n                v.newPhotoList.push({isDelete:true,...photo});\n                v.serverId.push(res.serverId);\n                v.$toast({\n                  message:'上传成功!',\n                  duration:2000\n                });\n                /* uploadMsg(res.serverId) //向后台发送serverId参数\n                      .then(response => {\n                        // v.$toast(response.toString())\n                      })\n                      .catch(error => {\n                        // v.$toast(error.toString())\n                      });*/\n              },\n              fail: function (res) {\n                this.$toast(\"上传失败:\" + JSON.stringify(res));\n                v.currentPhotoInfo = {};\n              }\n            });\n          },\n          deletePhoto(index) {\n            let _this = this;\n            MessageBox.confirm(\"确定执行此操作?\").then(action => {\n              _this.newPhotoList.splice(index, 1);\n              let indexData=(index-1)<0?0:(index-1);\n             _this.serverId.splice(indexData,1)\n            });\n          },\n          initWxConfig() {\n            wx.config({\n              debug: false, //\n              appId: this.signature.appId, // 必填，企业号的唯一标识，此处填写企业号corpid\n              timestamp: this.signature.timestamp, // 必填，生成签名的时间戳\n              nonceStr: this.signature.nonceStr, // 必填，生成签名的随机串\n              signature: this.signature.signature, // 必填，签名，见附录1\n              jsApiList: [\n                \"chooseImage\",\n                \"getNetworkType\",\n                \"uploadImage\",\n                \"previewImage\"\n              ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\n            });\n          },\n         goBack(){\n            this.$router.push(`/goOutDetail?rcordId=${this.rcordId}`);\n          },\n          submitData(){\n            console.log(this.serverId,'serverId');\n           let imgList=this.serverId.map((item)=>{\n              return{\n                serverId:item,\n                imgType:'jpg'\n              }\n            });\n\n            let newArr=[{\n              itemId:this.id,\n              name:this.name,\n              data:imgList,\n              isNewFoto:this.isNewFoto,\n              photoList:this.newPhotoList,\n              serverId: this.serverId\n            }];\n            console.log(newArr,'takephoto-set_photoList');\n            this.$store.commit('SET_PHOTOLIST',newArr);\n            this.goBack();\n          }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n  .popImg{ //弹框图片显示\n    width: 100%;\n    img{\n      width: 100%;\n    }\n  }\n  .container {\n    min-height: 100vh;\n    background-color: #f8f8f8;\n    padding: 0.12rem 0;\n    .list-block{\n      background: #ffffff;\n      .photoList{\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        flex-wrap: wrap;\n        padding:.15rem;\n        .photo-item{\n          width: 1rem;\n          height: 1rem;\n          border:1px solid #ddd;\n          position: relative;\n          margin-right: .18rem;\n          vertical-align: middle;\n          img{\n            width: 100%;\n            max-height: 100%;\n          }\n          &:nth-child(3n){\n            margin-right: 0;\n          }\n          .delete{\n            position: absolute;\n            right:-.09rem;\n            top:-.09rem;\n            background: red;\n            height: .18rem;\n            width: .18rem;\n            color: #ffffff;\n            border-radius: 50%;\n            display: table;\n            span{\n              display: table-cell;\n              text-align: center;\n              vertical-align: top;\n              font-size: 12px;\n            }\n          }\n        }\n        .add{\n          height: 1rem;\n          background:#ffffff;\n          text-align: center;\n          img {\n            width: .34rem;\n            height: .27rem;\n            position: relative;\n            top: 40%;\n            transform: translateY(-50%);\n          }\n        }\n      }\n    }\n    .submit{\n      padding:.2rem;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/business/goOutApplication/takePhotoList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"max-width\":\"100%\",\"box-sizing\":\"border-box\"}},[_c('mt-header',{attrs:{\"title\":\"拍照记录\",\"fixed\":\"\"}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.submitData},slot:\"left\"},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mt4 list-block\"},[_c('div',{staticClass:\"photoList\"},[_vm._l((_vm.newPhotoList),function(item,index){return _c('div',{staticClass:\"photo-item\"},[(item.img)?_c('img',{staticClass:\"imgStyle\",attrs:{\"src\":item.img},on:{\"click\":function($event){return _vm.showImg(index)}}}):_c('img',{staticClass:\"imgStyle\",attrs:{\"src\":item.src},on:{\"click\":function($event){return _vm.showImg(index)}}}),_vm._v(\" \"),(item.isDelete)?_c('div',{staticClass:\"delete\"},[_c('span',{on:{\"click\":function($event){return _vm.deletePhoto(index)}}},[_vm._v(\"x\")])]):_vm._e()])}),_vm._v(\" \"),(_vm.isTakePhoto&&this.newPhotoList.length!==Number(this.maxNum))?_c('div',{staticClass:\"photo-item add\",on:{\"click\":_vm.addPhoto}},[_c('img',{attrs:{\"src\":require(\"../../../assets/icon-takePhoto.png\"),\"alt\":\"\"}})]):_vm._e()],2)]),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"right\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('div',{staticClass:\"popImg\"},[_c('img',{attrs:{\"src\":this.imgsrc,\"alt\":\"\"},on:{\"click\":_vm.hideImg}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3064ac8c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/business/goOutApplication/takePhotoList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3064ac8c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./takePhotoList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./takePhotoList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./takePhotoList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3064ac8c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./takePhotoList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3064ac8c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/business/goOutApplication/takePhotoList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
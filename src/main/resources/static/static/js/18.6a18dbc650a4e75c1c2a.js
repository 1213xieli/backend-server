webpackJsonp([18],{hYYo:function(t,e){},okqX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),s=a.n(i),n=a("teIl"),r=a("pzWD"),c=a("3gsG"),o=a("UNpN"),l=a("9rMa"),u=a("+MaT"),d=a("wSez"),g={name:"CastSeedsApply",components:{myHeader:n.a,SubmitBtn:r.a,Signature:c.a},data:function(){return{castData:{},options:["消毒工作是否准备","保温箱、屋中屋是否准备（底板实 木板侧板压缩版，每头猪面积不少 于0.1平方）","保温灯是否准备（每栏1个，护理 栏2个）","发电机是否正常使用（15KW以上）","圆盘料槽是否准备（50头/个）","物资准备（每100头猪：米糠100斤、生石灰100斤、米25斤、奶粉2斤、生姜10斤、红糖10斤）","是否准备加药桶","上猪台是否准备","加温/降温设施是否达到标准"],rcordId:"",recordState:"",dsStatus:"",signerImgs:"",isShowSignature:!0,billStatusIndex:"",canSigner:"",isShowBtn:!1}},created:function(){this._getRecordDetail(),this._getInitData(),this.rcordId=Object(u.b)("rcordId").replace(/%3D/g,"=").trim()},computed:s()({},Object(l.b)(["userInfo"]),{name:function(){return this.userInfo.name?this.userInfo.name:""}}),watch:{recordState:function(t,e){var a=this;30==this.billStatusIndex&&1==this.canSigner&&1==this.recordState&&this.$nextTick(function(){a.isShowSignature=!0,a.$refs.signature.disabled=!1}),2==this.recordState&&30==this.billStatusIndex&&this.$nextTick(function(){a.isShowSignature=!0,a.$refs.signature.fromDataURL(a.signerImgs),a.$refs.signature.disabled=!0}),3!=this.recordState&&1==this.canSigner||(this.isShowSignature=!1)}},methods:{_getRecordDetail:function(){var t=this;d.Indicator.open({text:"加载中...",spinnerType:"fading-circle"});var e=Object(u.b)("rcordId").replace(/%3D/g,"=").trim();Object(o.m)(e).then(function(e){if(d.Indicator.close(),e.data){var a=e.data;t.castData=a,a.state&&(t.recordState=a.state),a.billStatusIndex&&(t.billStatusIndex=a.billStatusIndex),a.canSigner&&(t.canSigner=a.canSigner),a.signerUrl.length&&(t.signerImgs=a.signerUrl[0].img),a.actDate&&(t.castData.actDate=a.actDate),a.actAvgWg&&(t.castData.actAvgWg=t.castData.actAvgWg.toFixed(2))}}).catch(function(t){d.Indicator.close()})},_getInitData:function(){this.size=JSON.parse(sessionStorage.getItem("userInfo")).size},submitData:function(){var t=this,e=this.$refs.signature.save(),a={rcordId:this.rcordId,fileEntry:{imgContent:e,imgType:"png"}};Object(o.s)(a).then(function(e){t.$toast({message:"签字确认成功！",duration:1e3}),t.$router.push("/castSeedsRecord")})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"max-width":"100%","box-sizing":"border-box"}},[a("myHeader",{attrs:{isBack:!0,backPath:"/castSeedsRecord",title:"投苗申请详情"}}),t._v(" "),a("div",{staticClass:"mt4",staticStyle:{padding:".12rem 0",background:"#f8f8f8"}},[a("mt-cell",{attrs:{title:"养户：",value:t.name}}),t._v(" "),a("mt-cell",{attrs:{title:"饲养规模：",value:t.size+"头"}}),t._v(" "),a("mt-cell",{attrs:{title:"申请投苗日期：",value:t.castData.applyDate}}),t._v(" "),a("mt-cell",{attrs:{title:"申请投苗数量：",value:t.castData.num}}),t._v(" "),t.castData.actDate?a("div",[a("mt-cell",{attrs:{title:"实际投苗时间：",value:t.castData.actDate}}),t._v(" "),a("mt-cell",{attrs:{title:"实际投苗数量：",value:t.castData.actNum}}),t._v(" "),a("mt-cell",{attrs:{title:"实际投苗均重：",value:t.castData.actAvgWg}})],1):t._e()],1),t._v(" "),t._l(t.options,function(e,i){return a("div",[a("mt-cell",{staticClass:"item-checkbox-body",attrs:{title:e.value||e}},[a("span",{staticClass:"zb-checkbox"},[a("span",[a("input",{staticClass:"checkboxItem",attrs:{type:"checkbox",id:"check"+i,disabled:""},domProps:{value:e.value||e}}),t._v(" "),a("label",{attrs:{for:"check"+i}})])])])],1)}),t._v(" "),a("Signature",{directives:[{name:"show",rawName:"v-show",value:t.isShowSignature,expression:"isShowSignature"}],ref:"signature"}),t._v(" "),1==t.canSigner&&30==t.billStatusIndex&&1==t.recordState?a("SubmitBtn",{nativeOn:{click:function(e){return t.submitData()}}}):t._e()],2)},staticRenderFns:[]};var S=a("C7Lr")(g,h,!1,function(t){a("hYYo")},"data-v-c2fe578c",null);e.default=S.exports}});
//# sourceMappingURL=18.6a18dbc650a4e75c1c2a.js.map
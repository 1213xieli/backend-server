webpackJsonp([24],{RYu0:function(e,t){},uWTf:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("teIl"),i=s("pzWD"),r=s("3gsG"),c=s("GE2/"),n=s("+MaT"),d=s("wSez"),v={name:"getFeedRecordDetail",data:function(){return{batchNum:"",drawingMaterialDate:"",driverName:"",driverID:"",driverCarID:"",selectedType:0,getFeedList:[{feedName:"",bclybs:"",quotarecevenum:"",sumReceve:""}],actEntrys:[{feedName:"",bclybs:"",price:"",amount:"",quotarecevenum:"",sumReceve:""}],rcordId:"",recordState:"",dsStatus:"",signerImgs:"",isShowSignature:!0}},components:{Signature:r.a,SubmitBtn:i.a,myHeader:a.a},created:function(){this._viewInfoByIdFeed(),this.rcordId=Object(n.b)("rcordId").replace(/%3D/g,"=").trim(),d.Indicator.open({text:"加载中...",spinnerType:"fading-circle"})},watch:{recordState:function(e,t){var s=this;2==this.recordState&&30==this.dsStatus&&this.$nextTick(function(){s.isShowSignature=!0,s.$refs.signature.fromDataURL(s.signerImgs),s.$refs.signature.disabled=!0}),30==this.dsStatus&&2!=this.recordState&&this.$nextTick(function(){s.isShowSignature=!0,s.$refs.signature.disabled=!1}),3!=this.recordState&&30==this.dsStatus||(this.isShowSignature=!1)}},methods:{_viewInfoByIdFeed:function(){var e=this,t=Object(n.b)("rcordId").replace(/%3D/g,"=").trim();Object(c.C)(t).then(function(t){if(t.data){d.Indicator.close();var s=t.data;s.state&&(e.recordState=s.state),s.dsStatus&&(e.dsStatus=s.dsStatus),s.signerUrl.length&&(e.signerImgs=s.signerUrl[0].img),e.batchNum=s.batchName?s.batchName:"",e.drawingMaterialDate=s.plandate?s.plandate:"",e.driverName=s.driverName?s.driverName:"",e.driverID=s.driverIdcard?s.driverIdcard:"",e.driverCarID=s.driverVehicleno?s.driverVehicleno:"",e.selectedType=s.type?s.type:"",e.getFeedList=s.pickDetail.map(function(e){return{feedName:e.feedName,bclybs:e.bclybs,quotarecevenum:e.quotarecevenum,sumReceve:e.sumReceve}}),e.actEntrys=s.actEntrys.map(function(e){return{feedName:e.feedName,bclybs:e.bclybs,price:e.price,amount:e.amount,quotarecevenum:e.quotarecevenum,sumReceve:e.sumReceve}})}else d.Indicator.close()},function(e){d.Indicator.close()})},submitData:function(){var e=this,t=this.$refs.signature.save(),s={rcordId:this.rcordId,fileEntry:{imgContent:t,imgType:"png"}};Object(c.A)(s).then(function(t){e.$toast({message:"签字确认成功！",duration:1e3}),e.$router.push("/getFeedRecord")})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"getFeedRecordDetail",staticStyle:{"max-width":"100%","box-sizing":"border-box"}},[a("myHeader",{attrs:{isBack:!0,backPath:"/getFeedRecord",title:"领料详情"}}),e._v(" "),a("div",{staticClass:"seat-head"}),e._v(" "),a("div",{staticClass:"list-block"},[a("mt-cell",{attrs:{title:"批次号："}},[e._v("\n        "+e._s(e.batchNum)+"\n      ")]),e._v(" "),a("mt-cell",{attrs:{title:"计划拉料日期："}},[e._v("\n        "+e._s(e.drawingMaterialDate)+"\n      ")]),e._v(" "),a("mt-cell",{attrs:{title:"拉料司机姓名：",value:e.driverName}}),e._v(" "),a("mt-cell",{attrs:{title:"拉料司机身份证号：",value:e.driverID}}),e._v(" "),a("mt-cell",{attrs:{title:"拉料司机车牌号码：",value:e.driverCarID}})],1),e._v(" "),a("div",{staticClass:"select-type"},[a("div",{staticClass:"title"},[e._v("\n        请选择申请类别\n      ")]),e._v(" "),a("div",{staticClass:"radio-select-box"},[a("div",{staticClass:"radio-item"},[a("span",[e._v("领料")]),e._v(" "),0==e.selectedType?a("img",{attrs:{src:s("yS0J")}}):a("img",{attrs:{src:s("Xjmz")}})]),e._v(" "),a("div",{staticClass:"radio-item"},[a("span",[e._v("退料")]),e._v(" "),1==e.selectedType?a("img",{attrs:{src:s("yS0J")}}):a("img",{attrs:{src:s("Xjmz")}})])])]),e._v(" "),a("div",{staticClass:"apply-detail"},[a("div",{staticClass:"top"},[0==e.selectedType?a("span",[e._v("申请领料明细")]):e._e(),e._v(" "),1==e.selectedType?a("span",[e._v("申请退料明细")]):e._e()]),e._v(" "),e._l(e.getFeedList,function(t,s){return a("div",{key:s,staticClass:"detail-item"},[a("div",{staticClass:"select-detail"},[a("div",{staticClass:"left"},[a("span",{staticClass:"left-name"},[e._v("饲料品种：")]),e._v(" "),a("span",[e._v(e._s(t.feedName))])]),e._v(" "),a("div",{staticClass:"right"},[a("span",[e._v("包数：")]),e._v(" "),a("span",[e._v(e._s(t.bclybs))])])]),e._v(" "),a("div",{staticClass:"select-result"},[a("div",[a("span",[e._v("已领："+e._s(t.sumReceve))]),e._v(" "),a("span",[e._v("定额："+e._s(t.quotarecevenum))])])])])})],2),e._v(" "),e.dsStatus&&30==e.dsStatus?a("div",{staticClass:"result-apply-detail"},[e._m(0),e._v(" "),e._l(e.actEntrys,function(t,s){return a("div",{key:s,staticClass:"details-container"},[a("div",{staticClass:"detail-item"},[a("div",{staticClass:"left"},[a("span",[e._v("饲料品种：")]),e._v(" "),a("span",[e._v(e._s(t.feedName))])]),e._v(" "),a("div",{staticClass:"right"},[a("span",[e._v("数量：")]),e._v(" "),a("span",[e._v(e._s(t.bclybs))])])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("div",{staticClass:"left"},[a("span",[e._v("饲料单价：")]),e._v(" "),a("span",[e._v(e._s(t.price))])]),e._v(" "),a("div",{staticClass:"right"},[a("span",[e._v("金额：")]),e._v(" "),a("span",[e._v(e._s(t.amount))])])])])})],2):e._e(),e._v(" "),a("Signature",{directives:[{name:"show",rawName:"v-show",value:e.isShowSignature,expression:"isShowSignature"}],ref:"signature"}),e._v(" "),2!=e.recordState&&30==e.dsStatus?a("SubmitBtn",{nativeOn:{click:function(t){return e.submitData()}}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",[this._v("实际领用明细")])])}]};var u=s("C7Lr")(v,l,!1,function(e){s("RYu0")},null,null);t.default=u.exports}});
//# sourceMappingURL=24.811ab236ec50f11eb353.js.map
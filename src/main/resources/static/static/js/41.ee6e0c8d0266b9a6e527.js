webpackJsonp([41],{TkWP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("teIl"),s=n("ladc"),c=n("pzWD"),r=n("w3CS"),a=n("GYqG"),i=n("wSez"),d={name:"OpenAccount",data:function(){return{isAgreeRead:!1,codeTitle:"验证码",openAccount:{name:"",personID:"",pigstyAddress:"",openAddressID:"",tel:"",introducer:"",codeNumber:"",cardID:"",openAddress:"",introducerBelongTo:"",introducerID:""}}},components:{SubmitBtn:c.a,myHeader:o.a},mounted:function(){},beforeRouteEnter:function(e,t,n){n(function(e){"searchIntroducer"==t.name&&sessionStorage.getItem("introducerInfo")&&(e.openAccount.introducer=JSON.parse(sessionStorage.getItem("introducerInfo")).name,e.openAccount.introducerBelongTo=JSON.parse(sessionStorage.getItem("introducerInfo")).belongTo,e.openAccount.cardID=JSON.parse(sessionStorage.getItem("introducerInfo")).cardID,e.openAccount.introducerID=JSON.parse(sessionStorage.getItem("introducerInfo")).introduceId),"searchAddress"==t.name&&sessionStorage.getItem("addressName")&&(e.openAccount.openAddress=JSON.parse(sessionStorage.getItem("addressName")).name,e.openAccount.openAddressID=JSON.parse(sessionStorage.getItem("addressName")).cardID)})},methods:{agreeReadHandler:function(){this.isAgreeRead=!this.isAgreeRead},searchIntroducer:function(){this.$router.push("/searchIntroducer")},searchAddress:function(){this.$router.push("/searchAddress")},getCodeData:function(){var e,t,n=this;t=60,""!==this.openAccount.tel?/^[1][3,4,5,7,8][0-9]{9}$/.test(this.openAccount.tel)?(this.codeTitle=t+"秒",e=window.setInterval(function(){0==t?(window.clearInterval(e),n.codeTitle="重新发送",n.formData.invitationCode=""):(t--,n.codeTitle=t+"秒")},1e3),Object(a.b)(this.openAccount.tel).then(function(e){}).catch(function(t){window.clearInterval(e),n.codeTitle="重新发送",n.formData.invitationCode="",Object(i.Toast)({message:"发送失败",duration:1e3})})):Object(i.Toast)({message:"手机号码错误！",duration:1e3}):Object(i.Toast)({message:"手机号码不能为空！",duration:1e3})},submitData:function(){var e=this,t=[{val:this.openAccount.name,rule:["required","standard"],type:"ChineseName"},{val:this.openAccount.personID,rule:["required","standard"],type:"IDCard"},{val:this.openAccount.pigstyAddress,rule:["required"],getTipText:"猪栏地址"},{val:this.openAccount.openAddress,rule:["required"],getTipText:"开户服务部"},{val:this.openAccount.tel,rule:["required","standard"],type:"tel"},{val:this.openAccount.codeNumber,rule:["required"],getTipText:"手机验证码"},{val:this.isAgreeRead,rule:["requiredChecked"],type:"agreeAppointment"}];if(Object(r.b)(t)){var n={serviceId:this.openAccount.openAddressID,serviceName:this.openAccount.openAddress,introducerId:this.openAccount.introducerID,introducer:this.openAccount.introducer,introducerDept:this.openAccount.introducerBelongTo,invitationCode:this.openAccount.codeNumber,idno:this.openAccount.personID,custName:this.openAccount.name,pigpenList:[{pigpenAddress:this.openAccount.pigstyAddress}],telNum:this.openAccount.tel};Object(s.b)(n).then(function(t){e.$toast({message:"提交成功",duration:1e3}),e.WeixinJSBridge.call("closeWindow")},function(t){e.$toast({message:t,duration:1e3})})}}}},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"openAccount"},[o("myHeader",{attrs:{isBack:!0,backPath:"/personInfo",title:"我要开户"}}),e._v(" "),o("div",{staticClass:"seat-head"}),e._v(" "),o("section",{staticClass:"content"},[o("mt-cell",{attrs:{title:"申请条件"}}),e._v(" "),e._m(0)],1),e._v(" "),o("mt-field",{attrs:{label:"姓名：",placeholder:"请输入您的姓名"},model:{value:e.openAccount.name,callback:function(t){e.$set(e.openAccount,"name",t)},expression:"openAccount.name"}}),e._v(" "),o("mt-field",{attrs:{label:"身份证号：",placeholder:"请输入您的身份证号"},model:{value:e.openAccount.personID,callback:function(t){e.$set(e.openAccount,"personID",t)},expression:"openAccount.personID"}}),e._v(" "),o("mt-field",{attrs:{label:"猪舍地址：",placeholder:"请输入地址"},model:{value:e.openAccount.pigstyAddress,callback:function(t){e.$set(e.openAccount,"pigstyAddress",t)},expression:"openAccount.pigstyAddress"}}),e._v(" "),o("mt-cell",{attrs:{title:"开户服务部："},nativeOn:{click:function(t){return e.searchAddress(t)}}},[o("span",{staticClass:"introducer-placeholder"},[e._v(e._s(e.openAccount.openAddress))]),e._v(" "),o("span",{staticClass:"search-circle"})]),e._v(" "),o("mt-cell",{attrs:{title:"介绍人："},nativeOn:{click:function(t){return e.searchIntroducer(t)}}},[o("span",{staticClass:"introducer-placeholder"},[e._v(e._s(e.openAccount.introducer))]),e._v(" "),o("span",{staticClass:"search-circle"})]),e._v(" "),o("mt-cell",{attrs:{title:"介绍人所在服务部："}},[e._v(e._s(e.openAccount.introducerBelongTo))]),e._v(" "),o("mt-cell",{attrs:{title:"介绍人身份证号："}},[e._v(e._s(e.openAccount.cardID))]),e._v(" "),o("mt-field",{attrs:{label:"手机号：",placeholder:"请输入内容"},model:{value:e.openAccount.tel,callback:function(t){e.$set(e.openAccount,"tel",t)},expression:"openAccount.tel"}}),e._v(" "),o("mt-field",{attrs:{label:"手机验证码：",placeholder:"请输入验证码"},model:{value:e.openAccount.codeNumber,callback:function(t){e.$set(e.openAccount,"codeNumber",t)},expression:"openAccount.codeNumber"}},[o("mt-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getCodeData()}}},[e._v(e._s(e.codeTitle))])],1),e._v(" "),o("div",{staticClass:"takeCare-buy"},[e.isAgreeRead?o("img",{staticClass:"select-btn",attrs:{src:n("yS0J")},on:{click:e.agreeReadHandler}}):o("img",{staticClass:"select-btn",attrs:{src:n("Xjmz")},on:{click:e.agreeReadHandler}}),e._v("\n    本人已阅读\n    "),o("router-link",{staticClass:"mark-text",attrs:{to:"/openText"}},[e._v("养猪须知")]),e._v("\n    内容\n  ")],1),e._v(" "),o("SubmitBtn",{nativeOn:{click:function(t){return e.submitData(t)}}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text"},[t("p",[this._v("1.自有合格栏舍或拟建符合要求猪舍(包括环保设施) 饲养规模达650头以上;")]),this._v(" "),t("p",[this._v("2.具备基本养殖经验或愿意按照公司要求进行饲养；")]),this._v(" "),t("p",[this._v("3.能够缴纳饲养保证金（具体标准按公司文件）。")])])}]};var l=n("C7Lr")(d,u,!1,function(e){n("fbU7")},"data-v-4304ac89",null);t.default=l.exports},fbU7:function(e,t){}});
//# sourceMappingURL=41.ee6e0c8d0266b9a6e527.js.map
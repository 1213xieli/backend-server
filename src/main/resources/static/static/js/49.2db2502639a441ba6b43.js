webpackJsonp([49],{"Vr/M":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=a("teIl"),s=a("mFSD"),i=a("wSez"),n={name:"BatchRecords",data:function(){return{switchBatchNumPopup:!1,batchNum:"",batchNumSlots:[{values:[{id:"",name:""}],textAlign:"center"}],batchNumItem:{varietiesName:"",tmts:"",bizdate:"",curday:"",username:"",curcnt:"",diecnt:""}}},components:{myHeader:c.a},created:function(){this._getBatchListList(),i.Indicator.open({text:"加载中...",spinnerType:"fading-circle"})},methods:{_getBatchListList:function(){var t=this;Object(s.b)().then(function(e){0===e.data.length?i.Indicator.close():(t.batchNumSlots[0].values=e.data.map(function(t,e){return{name:t.name,id:t.id}}),t.batchNum=t.batchNumSlots[0].values[0].name,t.batchId=t.batchNumSlots[0].values[0].id,t._queryBatchRecordInfo(t.batchNumSlots[0].values[0].id))}).catch(function(t){i.Indicator.close()})},_queryBatchRecordInfo:function(t){var e=this;Object(s.a)(t).then(function(t){i.Indicator.close();var a=t.data;e.batchNumItem={varietiesName:a.varietiesName,tmts:a.tmts,bizdate:a.bizdate.slice(0,a.bizdate.indexOf(" ")),curday:a.curday,username:a.username,curcnt:a.curcnt,diecnt:a.diecnt}}).catch(function(t){i.Indicator.close()})},selectBatchNum:function(){this.batchNumSlots[0].values[0].name?this.switchBatchNumPopup=!this.switchBatchNumPopup:this.$toast({message:"无可选批次，请核实业务场景！",duration:1e3})},handleBatchConfirm:function(){this.batchNum=this.$refs.batchPicker.getValues()[0].name,this.batchId=this.$refs.batchPicker.getValues()[0].id,this.batchId&&this._queryBatchRecordInfo(this.batchId),this.switchBatchNumPopup=!1}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"batchRecords",staticStyle:{"max-width":"100%"}},[a("myHeader",{attrs:{isBack:!0,title:"批次档案"}}),t._v(" "),a("div",{staticClass:"seat-head"}),t._v(" "),a("div",{staticClass:"main"},[a("mt-cell",{attrs:{title:"批次号："},nativeOn:{click:function(e){return t.selectBatchNum(e)}}},[t._v("\n      "+t._s(t.batchNum)+"\n      "),a("span",{staticClass:"img"})]),t._v(" "),a("mt-cell",{attrs:{title:"品种:",value:t.batchNumItem.varietiesName}}),t._v(" "),a("mt-cell",{attrs:{title:"投苗头数:",value:t.batchNumItem.tmts}}),t._v(" "),a("mt-cell",{attrs:{title:"投苗日期:",value:t.batchNumItem.bizdate}}),t._v(" "),a("mt-cell",{attrs:{title:"日龄:",value:t.batchNumItem.curday}}),t._v(" "),a("mt-cell",{attrs:{title:"管理员:",value:t.batchNumItem.username}}),t._v(" "),a("mt-cell",{attrs:{title:"在养头数:",value:t.batchNumItem.curcnt}}),t._v(" "),a("mt-cell",{attrs:{title:"死亡头数:",value:t.batchNumItem.diecnt}})],1),t._v(" "),a("mt-popup",{attrs:{position:"bottom"},model:{value:t.switchBatchNumPopup,callback:function(e){t.switchBatchNumPopup=e},expression:"switchBatchNumPopup"}},[a("mt-picker",{ref:"batchPicker",attrs:{slots:t.batchNumSlots,"value-key":"name","show-toolbar":!0}},[a("span",{staticClass:"sure-btn",on:{click:t.handleBatchConfirm}},[t._v("确认")])])],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(n,u,!1,function(t){a("lIwW")},"data-v-2df3dee3",null);e.default=l.exports},lIwW:function(t,e){}});
//# sourceMappingURL=49.2db2502639a441ba6b43.js.map
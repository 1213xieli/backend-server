{"version":3,"sources":["webpack:///src/views/finance/batchRecords/index.vue","webpack:///./src/views/finance/batchRecords/index.vue?09fa","webpack:///./src/views/finance/batchRecords/index.vue"],"names":["batchRecords","name","data","switchBatchNumPopup","batchNum","batchNumSlots","values","id","textAlign","batchNumItem","varietiesName","tmts","bizdate","curday","username","curcnt","diecnt","components","myHeader","Header","created","this","_getBatchListList","mint_ui_common","open","text","spinnerType","methods","_this","Object","finance","then","res","length","close","map","item","index","batchId","_queryBatchRecordInfo","catch","err","_this2","slice","indexOf","selectBatchNum","$toast","message","duration","handleBatchConfirm","$refs","batchPicker","getValues","finance_batchRecords","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","max-width","attrs","isBack","title","_v","nativeOn","click","$event","_s","value","position","model","callback","$$v","expression","ref","slots","value-key","show-toolbar","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/49.2db2502639a441ba6b43.js","sourcesContent":["<template>\r\n  <div class=\"batchRecords\" style=\"max-width: 100%;\">\r\n    <myHeader :isBack=\"true\" title=\"批次档案\"></myHeader>\r\n    <div class=\"seat-head\"></div>\r\n    <div class=\"main\">\r\n      \r\n      <mt-cell title=\"批次号：\" @click.native=\"selectBatchNum\">\r\n        {{batchNum}}\r\n        <span class=\"img\"></span>\r\n      </mt-cell>\r\n      \r\n      <mt-cell title=\"品种:\" :value=\"batchNumItem.varietiesName\"></mt-cell>\r\n      <mt-cell title=\"投苗头数:\" :value=\"batchNumItem.tmts\"></mt-cell>\r\n      <mt-cell title=\"投苗日期:\" :value=\"batchNumItem.bizdate\"></mt-cell>\r\n      <mt-cell title=\"日龄:\" :value=\"batchNumItem.curday\"></mt-cell>\r\n      <mt-cell title=\"管理员:\" :value=\"batchNumItem.username\"></mt-cell>\r\n      <mt-cell title=\"在养头数:\" :value=\"batchNumItem.curcnt\"></mt-cell>\r\n      <mt-cell title=\"死亡头数:\" :value=\"batchNumItem.diecnt\"></mt-cell>\r\n    \r\n    </div>\r\n    \r\n    <!--选择批次-->\r\n    <mt-popup\r\n      v-model=\"switchBatchNumPopup\"\r\n      position=\"bottom\">\r\n      <mt-picker :slots=\"batchNumSlots\"\r\n                 value-key=\"name\"\r\n                 :show-toolbar=\"true\"\r\n                 ref=\"batchPicker\">\r\n        <span @click=\"handleBatchConfirm\" class=\"sure-btn\">确认</span>\r\n      </mt-picker>\r\n    </mt-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import myHeader from '@/components/Header'\r\n  import {batchRecordsGetBatchNumberList, batchRecordInfo} from '@/api/finance'\r\n  import { Indicator } from 'mint-ui'\r\n  \r\n  export default {\r\n    name: 'BatchRecords',\r\n    data() {\r\n      return {\r\n        switchBatchNumPopup: false,\r\n        batchNum: '',\r\n        batchNumSlots: [{\r\n          values: [{\r\n            id: '',\r\n            name: ''\r\n          }],\r\n          textAlign: 'center'\r\n        }],\r\n        batchNumItem: {\r\n          varietiesName: '',\r\n          tmts: '',\r\n          bizdate: '',\r\n          curday: '',\r\n          username: '',\r\n          curcnt: '',\r\n          diecnt: ''\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      myHeader\r\n    },\r\n    created() {\r\n      this._getBatchListList();\r\n      Indicator.open({\r\n        text: '加载中...',\r\n        spinnerType: 'fading-circle'\r\n      });\r\n    },\r\n    methods: {\r\n      _getBatchListList() {\r\n        batchRecordsGetBatchNumberList().then((res) => {\r\n          if (res.data.length === 0) {\r\n            Indicator.close();\r\n          } else {\r\n            this.batchNumSlots[0].values = res.data.map((item, index) => {\r\n              return {\r\n                name: item.name,\r\n                id: item.id\r\n              };\r\n            });\r\n  \r\n            this.batchNum = this.batchNumSlots[0].values[0].name;\r\n            this.batchId = this.batchNumSlots[0].values[0].id;\r\n            this._queryBatchRecordInfo(this.batchNumSlots[0].values[0].id);\r\n          }\r\n        }).catch((err) => {\r\n          Indicator.close();\r\n        })\r\n      },\r\n      _queryBatchRecordInfo(batchId) {\r\n        batchRecordInfo(batchId).then(res => {\r\n          Indicator.close();\r\n          let data = res.data;\r\n          this.batchNumItem = {\r\n            varietiesName: data.varietiesName,\r\n            tmts: data.tmts,\r\n            bizdate: data.bizdate.slice(0, data.bizdate.indexOf(' ')),\r\n            curday: data.curday,\r\n            username: data.username,\r\n            curcnt: data.curcnt,\r\n            diecnt: data.diecnt\r\n          }\r\n        }).catch(err => {\r\n          Indicator.close();\r\n        });\r\n      },\r\n      selectBatchNum() {\r\n        if (this.batchNumSlots[0].values[0].name) {\r\n          this.switchBatchNumPopup = !this.switchBatchNumPopup;\r\n        } else {\r\n          this.$toast({\r\n            message: '无可选批次，请核实业务场景！',\r\n            duration: 1000\r\n          });\r\n        }\r\n      },\r\n      handleBatchConfirm() {\r\n        this.batchNum = this.$refs.batchPicker.getValues()[0].name;\r\n        this.batchId = this.$refs.batchPicker.getValues()[0].id;\r\n        this.batchId ? this._queryBatchRecordInfo(this.batchId) : null;\r\n        this.switchBatchNumPopup = false;\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .batchRecords {\r\n    min-height: 100vh;\r\n    background-color: #F8F8F8;\r\n  }\r\n  \r\n  .main {\r\n    margin-top: .12rem;\r\n    \r\n    .img {\r\n      width: .1rem;\r\n      height: .06rem;\r\n      margin-left: .08rem;\r\n      background: url('~@/assets/icon-next.png') no-repeat;\r\n      background-size: 100%;\r\n    }\r\n  }\r\n  \r\n  .mint-popup {\r\n    width: 100%;\r\n    height: 25%;\r\n    \r\n    /deep/ .picker-toolbar {\r\n      height: 0;\r\n    }\r\n    \r\n    .sure-btn {\r\n      position: absolute;\r\n      top: .05rem;\r\n      right: .05rem;\r\n      padding: .05rem .20rem;\r\n      font-size: .16rem;\r\n      z-index: 99;\r\n    }\r\n  }\r\n  \r\n  .pickers {\r\n    width: 100%;\r\n    background: #FFFFFF;\r\n    position: absolute;\r\n    z-index: 13;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/finance/batchRecords/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"batchRecords\",staticStyle:{\"max-width\":\"100%\"}},[_c('myHeader',{attrs:{\"isBack\":true,\"title\":\"批次档案\"}}),_vm._v(\" \"),_c('div',{staticClass:\"seat-head\"}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('mt-cell',{attrs:{\"title\":\"批次号：\"},nativeOn:{\"click\":function($event){return _vm.selectBatchNum($event)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.batchNum)+\"\\n      \"),_c('span',{staticClass:\"img\"})]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"品种:\",\"value\":_vm.batchNumItem.varietiesName}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"投苗头数:\",\"value\":_vm.batchNumItem.tmts}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"投苗日期:\",\"value\":_vm.batchNumItem.bizdate}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"日龄:\",\"value\":_vm.batchNumItem.curday}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"管理员:\",\"value\":_vm.batchNumItem.username}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"在养头数:\",\"value\":_vm.batchNumItem.curcnt}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"死亡头数:\",\"value\":_vm.batchNumItem.diecnt}})],1),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.switchBatchNumPopup),callback:function ($$v) {_vm.switchBatchNumPopup=$$v},expression:\"switchBatchNumPopup\"}},[_c('mt-picker',{ref:\"batchPicker\",attrs:{\"slots\":_vm.batchNumSlots,\"value-key\":\"name\",\"show-toolbar\":true}},[_c('span',{staticClass:\"sure-btn\",on:{\"click\":_vm.handleBatchConfirm}},[_vm._v(\"确认\")])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2df3dee3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/finance/batchRecords/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2df3dee3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2df3dee3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2df3dee3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/finance/batchRecords/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
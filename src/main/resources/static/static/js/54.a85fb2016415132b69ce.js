webpackJsonp([54],{DXnP:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("teIl"),i=e("mFSD"),c=e("wSez"),l={name:"EttlementRecords",data:function(){return{switchBatchNumPopup:!1,batchNumSlots:[{values:[{id:"",name:""}],textAlign:"center"}],batchNum:"",batchId:"",balanceData:{bizdate:"",avgWeight:"",listedverWeight:"",realrate:"",meatrate:"",balanceDetail:{pigamount:"",feedsettamount:"",veterdurgsettamt:"",recycleamount:"",lrbamount:"",subsidies:"",settamount:"",payment:"",payforcustamount:"",payableamount:""}},showlist:!0}},components:{myHeader:s.a},created:function(){this._getBatchListList(),c.Indicator.open({text:"加载中...",spinnerType:"fading-circle"})},methods:{_getBatchListList:function(){var t=this;Object(i.d)().then(function(a){a.data&&a.data.length?(t.batchNumSlots[0].values=a.data.map(function(t,a){return{name:t.name,id:t.id}}),t.batchId=t.batchNumSlots[0].values[0].id,t.batchNum=t.batchNumSlots[0].values[0].name,t._getBalanceRecord(t.batchId)):c.Indicator.close()}).catch(function(t){c.Indicator.close()})},_getBalanceRecord:function(t){var a=this;Object(i.c)(t).then(function(t){c.Indicator.close();var e=t.data;a.balanceData={bizdate:e.bizdate,avgWeight:e.avgWeight,listedverWeight:e.listedverWeight,realrate:e.realrate,meatrate:e.meatrate,balanceDetail:{pigamount:e.balanceDetail.pigamount,feedsettamount:e.balanceDetail.feedsettamount,veterdurgsettamt:e.balanceDetail.veterdurgsettamt,recycleamount:e.balanceDetail.recycleamount,lrbamount:e.balanceDetail.lrbamount,subsidies:e.balanceDetail.subsidies,settamount:e.balanceDetail.settamount,payment:e.balanceDetail.payment,payforcustamount:e.balanceDetail.payforcustamount,payableamount:e.balanceDetail.payableamount}}}).catch(function(t){c.Indicator.close()})},selectBatchNum:function(){this.batchNumSlots[0].values[0].name?this.switchBatchNumPopup=!this.switchBatchNumPopup:this.$toast({message:"无可选批次，请核实业务场景！",duration:1e3})},handleBatchConfirm:function(){this.batchNum=this.$refs.batchPicker.getValues()[0].name,this.batchId=this.$refs.batchPicker.getValues()[0].id,this.batchId&&this._getBalanceRecord(this.batchId),this.switchBatchNumPopup=!1},isShow:function(){this.showlist=!this.showlist}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ettlementRecords",staticStyle:{"max-width":"100%"}},[e("myHeader",{attrs:{isBack:!0,title:"结算记录"}}),t._v(" "),e("div",{staticClass:"seat-head"}),t._v(" "),e("div",{staticClass:"main"},[e("mt-cell",{attrs:{title:"批次号："},nativeOn:{click:function(a){return t.selectBatchNum(a)}}},[t._v("\n      "+t._s(t.batchNum)+"\n      "),e("span",{staticClass:"img"})]),t._v(" "),e("mt-cell",{attrs:{title:"结算日期:",value:t.balanceData.bizdate}}),t._v(" "),e("mt-cell",{attrs:{title:"投苗均重/kg:",value:t.balanceData.avgWeight}}),t._v(" "),e("mt-cell",{attrs:{title:"上市均重/kg:",value:t.balanceData.listedverWeight}}),t._v(" "),e("mt-cell",{attrs:{title:"正品率:",value:t.balanceData.realrate}}),t._v(" "),e("mt-cell",{attrs:{title:"料肉比:",value:t.balanceData.meatrate}})],1),t._v(" "),e("div",{staticClass:"main-bottom"},[e("div",{staticClass:"category jus-b ali-c",on:{click:t.isShow}},[e("div",{staticClass:"left"},[t._v("结算明细:")]),t._v(" "),e("div",{staticClass:"img"})]),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:t.showlist,expression:"showlist"}],staticClass:"ett-info"},[e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("猪苗金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.pigamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("饲料金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.feedsettamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("兽药金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.veterdurgsettamt))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("回收金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.recycleamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("扣罚金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.lrbamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("补贴金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.subsidies))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("结算金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.settamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("补缴保证金")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.payment))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("扣代付款")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.payforcustamount))])]),t._v(" "),e("div",{staticClass:"jus-b ali-c"},[e("div",{staticClass:"ett-name"},[t._v("应付金额")]),t._v(" "),e("div",[t._v(t._s(t.balanceData.balanceDetail.payableamount))])])])]),t._v(" "),e("mt-popup",{attrs:{position:"bottom"},model:{value:t.switchBatchNumPopup,callback:function(a){t.switchBatchNumPopup=a},expression:"switchBatchNumPopup"}},[e("mt-picker",{ref:"batchPicker",attrs:{slots:t.batchNumSlots,"value-key":"name","show-toolbar":!0}},[e("span",{staticClass:"sure-btn",on:{click:t.handleBatchConfirm}},[t._v("确认")])])],1)],1)},staticRenderFns:[]};var v=e("C7Lr")(l,n,!1,function(t){e("gFmB")},"data-v-0594e43e",null);a.default=v.exports},gFmB:function(t,a){}});
//# sourceMappingURL=54.a85fb2016415132b69ce.js.map
webpackJsonp([55],{"C+Mj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("teIl"),o=a("GYqG"),s=a("w3CS"),n=a("wSez"),r={name:"bindInfo",components:{myHeader:i.a},data:function(){return{formData:{name:"",personID:"",tel:"",invitationCode:""},isAgreeRead:!1,codeTitle:"验证码",isSend:!0,showBgColor:"#409EFF",isWhite:"white"}},methods:{agreeReadHandler:function(){this.isAgreeRead=!this.isAgreeRead},bindData:function(){var e=this,t=[{val:this.formData.name,rule:["required","standard"],type:"ChineseName"},{val:this.formData.personID,rule:["required","standard"],type:"IDCard"},{val:this.formData.tel,rule:["required","standard"],type:"tel"},{val:this.formData.invitationCode,rule:["required"],getTipText:"手机验证码"},{val:this.isAgreeRead,rule:["requiredChecked"],type:"agreeAppointment"}];if(Object(s.b)(t)){var a={identity:this.formData.personID,invitationCode:this.formData.invitationCode,custName:this.formData.name,telNum:this.formData.tel};Object(o.a)(a).then(function(t){200===t.status?e.$router.push("/business"):Object(n.Toast)({message:t.message[0].message,duration:3e3})}).catch(function(e){Object(n.Toast)({message:e,duration:3e3})})}},gotoOpenAccout:function(){this.$router.push("/register")},gotoOpenHelp:function(){this.$router.push("/helpList")},getCodeData:function(){var e=this;if(""!==e.formData.tel)if(/^[1][3,4,5,7,8,9][0-9]{9}$/.test(this.formData.tel)){if(this.showBgColor="grey",e.isSend){var t,a;a=60,this.codeTitle=a+"秒",t=window.setInterval(function(){0==a?(window.clearInterval(t),e.isSend=!0,e.codeTitle="重新发送",e.showBgColor="#409EFF",e.formData.invitationCode=""):(e.isSend=!1,a--,e.codeTitle=a+"秒")},1e3),e.isSend=!1,this.showBgColor="grey",Object(o.b)(e.formData.tel).then(function(t){e.isSend=!1}).catch(function(a){window.clearInterval(t),e.codeTitle="重新发送",e.showBgColor="#409EFF",e.isSend=!0,e.formData.invitationCode="",Object(n.Toast)({message:"发送失败",duration:2e3})})}}else Object(n.Toast)({message:"手机号码错误！",duration:2e3});else Object(n.Toast)({message:"手机号码不能为空！",duration:2e3})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bindInfo",staticStyle:{"max-width":"100%","box-sizing":"border-box"}},[i("myHeader",{attrs:{isBack:!1,title:"绑定信息"}}),e._v(" "),i("div",{staticClass:"loginForm"},[i("mt-field",{attrs:{placeholder:"请输入姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),i("mt-field",{attrs:{placeholder:"请输入身份证号码"},model:{value:e.formData.personID,callback:function(t){e.$set(e.formData,"personID",t)},expression:"formData.personID"}}),e._v(" "),i("mt-field",{attrs:{placeholder:"请输入手机号码"},model:{value:e.formData.tel,callback:function(t){e.$set(e.formData,"tel",t)},expression:"formData.tel"}}),e._v(" "),i("mt-field",{attrs:{placeholder:"请输入验证码"},model:{value:e.formData.invitationCode,callback:function(t){e.$set(e.formData,"invitationCode",t)},expression:"formData.invitationCode"}},[i("mt-button",{style:{background:e.showBgColor,color:e.isWhite},attrs:{size:"small"},on:{click:function(t){return e.getCodeData()}}},[e._v(e._s(e.codeTitle))])],1),e._v(" "),i("div",{staticClass:"takeCare-buy"},[e.isAgreeRead?i("img",{staticClass:"select-btn",attrs:{src:a("yS0J")},on:{click:e.agreeReadHandler}}):i("img",{staticClass:"select-btn",attrs:{src:a("Xjmz")},on:{click:e.agreeReadHandler}}),e._v("\n      本人已阅读并同意"),i("router-link",{staticClass:"mark-text",attrs:{to:"/openText"}},[e._v("《正邦养户服务号使用协议》")])],1),e._v(" "),i("div",{staticClass:"submit-bth",on:{click:function(t){return e.bindData()}}},[e._v("立即绑定")])],1),e._v(" "),i("div",{staticClass:"flex"},[i("div",{staticClass:"help"},[i("span",{on:{click:function(t){return e.gotoOpenHelp()}}},[e._v("使用帮助")])]),e._v(" "),i("div",{staticClass:"notice"},[i("span",{on:{click:function(t){return e.gotoOpenAccout()}}},[e._v("新养户开户")])])])],1)},staticRenderFns:[]};var c=a("C7Lr")(r,l,!1,function(e){a("s/l/")},"data-v-0359eff2",null);t.default=c.exports},"s/l/":function(e,t){}});
//# sourceMappingURL=55.7a1681c834a9b397f2c9.js.map
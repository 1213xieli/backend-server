webpackJsonp([7],{"6Dhx":function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAIEUlEQVR4Xu2VMW4kVRiE/TyIjEUiAcQBQJCQetxjgeACcBIuRQLBHgAJkNw9yQbEm5ChTZAQG5G4HyJYIpZ1td/f0lZ9jqvfuL6q0t8u+IMABF5KoMEGAhB4OQEGQjsg8D8EGAj1gAADoQMQ2EaAC7KNG1+FEGAgIUFjcxsBBrKNG1+FEGAgIUFjcxsBBrKNG1+FEGAgIUFjcxsBBrKNG1+FEGAgIUFjcxsBBrKNG1+FEGAgIUFjcxsBBrKNG1+FENh9INfX1x+21t5/KN/e+7NlWZ4+9B2+ryfwOme+20COx+PV5eXl9621D0ZF0nv/bV3Xr87n85NRb/LOOAIOme8ykNPp9HHv/ZfW2pvj8P/70l+990/mef614G2e3EjAJfNdBjJN0w+ttS83sn7lZ733x/M8f/1KIYLdCLhkvtdA/mytPapKp/f+xzzP71S9z7s6gWmaLDLfZSCn06nriLUvbm9vd/Gi/Ve5apfMdymVC6zcuuvOXTJnIHr2fHEPAgzkHpBeSFxgCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Zc0Hiq1wDgIEIXF1gCZbjpS6Z73JBpml63lp7q6o1vffn8zy/XfU+7+oEXDLfayA/tdY+0zHf74ve+8/zPH9+PzWqPQhM02SR+S4DOR6Pnx4OhycXFxdvVIRzd3f3xfl8/rHibd7cRsAl810G8g/im5ubm3Vdv2utvbsN+X9+9fu6rt8sy/LtwDd5ahABh8x3G8gL5ldXVx8dDof3HppB7/3ZsixPH/oO39cTeJ0z330g9XHwCxAYR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YEGIhhqFgaR4CBjGPJS4YE/gacaqkUeWja3QAAAABJRU5ErkJggg=="},AcWF:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("4YfN"),a=e.n(s),c=e("X1H5"),n=e.n(c),g=e("teIl"),r=e("3gsG"),I=e("pzWD"),o=e("GE2/"),d=e("wesB"),p=e("9rMa"),Z=e("+MaT"),S=e("wSez"),u={name:"getMedicineRecordDetail",data:function(){return{medicineObj:{batchNo:"",applydate:"",recipientReason:"",voiceUrl:"",entrustName:"",entrustIdcard:"",isEntrust:!1,entrys:[],actEntrys:[]},rcordId:"",recordState:"",dsStatus:"",signerImgs:"",isShowSignature:!0}},components:{SubmitBtn:I.a,Signature:r.a,myHeader:g.a},created:function(){this._queryDrugApplyInfoById(),this.rcordId=Object(Z.b)("rcordId").replace(/%3D/g,"=").trim(),S.Indicator.open({text:"加载中...",spinnerType:"fading-circle"})},mounted:function(){this.initWxConfig()},computed:a()({},Object(p.b)(["signature"])),watch:{recordState:function(i,t){var e=this;2==this.recordState&&30==this.dsStatus&&this.$nextTick(function(){e.isShowSignature=!0,e.$refs.signature.fromDataURL(e.signerImgs),e.$refs.signature.disabled=!0}),30==this.dsStatus&&2!=this.recordState&&this.$nextTick(function(){e.isShowSignature=!0,e.$refs.signature.disabled=!1}),3!=this.recordState&&30==this.dsStatus||(this.isShowSignature=!1)}},methods:{initWxConfig:function(){n.a.config({debug:!1,appId:this.signature.appId,timestamp:this.signature.timestamp,nonceStr:this.signature.nonceStr,signature:this.signature.signature,jsApiList:["startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice"]})},broadcastStart:function(){var i=this;window.WeixinJSBridge?window.WeixinJSBridge.invoke("getNetworkType",{},function(t){i.$refs.audioS.load(),setTimeout(function(){i.$refs.audioS.play()},5)}):document.addEventListener("WeixinJSBridgeReady",function(){window.WeixinJSBridge.invoke("getNetworkType",{},function(t){i.$refs.audioS.load(),setTimeout(function(){i.$refs.audioS.play()},5)})},!1)},broadcastStop:function(){var i=this;window.WeixinJSBridge?window.WeixinJSBridge.invoke("getNetworkType",{},function(t){i.$refs.audioS.load(),setTimeout(function(){i.$refs.audioS.pause()},5)}):document.addEventListener("WeixinJSBridgeReady",function(){window.WeixinJSBridge.invoke("getNetworkType",{},function(t){i.$refs.audioS.load(),setTimeout(function(){i.$refs.audioS.pause()},5)})},!1)},_queryDrugApplyInfoById:function(){var i=this,t=Object(Z.b)("rcordId").replace(/%3D/g,"=").trim();Object(o.o)(t).then(function(t){if(S.Indicator.close(),t.data){var e=t.data;e.state&&(i.recordState=e.state),e.dsStatus&&(i.dsStatus=e.dsStatus),e.signerUrl.length&&(i.signerImgs=e.signerUrl[0].img);var s=[],a=[];e.entrys&&e.entrys.length&&(s=e.entrys.map(function(i){return{materialName:i.materialName,price:i.price,amount:i.amount,num:i.num}})),e.actEntrys&&e.actEntrys.length&&(a=e.actEntrys.map(function(i){return{materialName:i.materialName,price:i.price,amount:i.amount,num:i.num}})),i.medicineObj={batchNo:e.batchNo,applydate:e.applydate,recipientReason:e.recipientReason?d.a.recipientReason[e.recipientReason]:"",voiceUrl:e.voiceUrl.length>0?e.voiceUrl[0].img:"",entrustName:e.entrustName,entrustIdcard:e.entrustIdcard,isEntrust:e.isEntrust,entrys:s,actEntrys:a}}}).catch(function(i){S.Indicator.close()})},submitData:function(){var i=this,t=this.$refs.signature.save(),e={rcordId:this.rcordId,fileEntry:{imgContent:t,imgType:"png"}};Object(o.y)(e).then(function(t){i.$toast({message:"签字确认成功！",duration:1e3}),i.$router.push("/getMedicineRecord")})}}},b={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"getMedicineRecordDetail",staticStyle:{"max-width":"100%","box-sizing":"border-box"}},[s("myHeader",{attrs:{isBack:!0,backPath:"/getMedicineRecord",title:"领药详情"}}),i._v(" "),s("div",{staticClass:"seat-head"}),i._v(" "),s("div",{staticClass:"list-block"},[s("mt-cell",{attrs:{title:"批次号："}},[i._v(i._s(i.medicineObj.batchNo))]),i._v(" "),s("mt-cell",{attrs:{title:"申请日期："}},[i._v(i._s(i.medicineObj.applydate))]),i._v(" "),s("mt-cell",{attrs:{title:"领药原因："}},[i._v(i._s(i.medicineObj.recipientReason))]),i._v(" "),s("mt-cell",{attrs:{title:"语音说话："}},[s("span",{directives:[{name:"show",rawName:"v-show",value:i.medicineObj.voiceUrl,expression:"medicineObj.voiceUrl"}],staticClass:"pause-btn",on:{click:i.broadcastStop}},[s("img",{attrs:{src:e("6Dhx")}})]),i._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:i.medicineObj.voiceUrl,expression:"medicineObj.voiceUrl"}],staticClass:"start-btn",on:{click:i.broadcastStart}},[s("img",{attrs:{src:e("Jj7Z")}})])])],1),i._v(" "),s("div",{staticClass:"select-type"},[s("div",{staticClass:"title"},[i._v("\n      是否委托他人领取\n    ")]),i._v(" "),s("div",{staticClass:"radio-select-box"},[s("div",{staticClass:"radio-item"},[s("span",[i._v("否")]),i._v(" "),i.medicineObj.isEntrust?s("img",{attrs:{src:e("Xjmz")}}):s("img",{attrs:{src:e("yS0J")}})]),i._v(" "),s("div",{staticClass:"radio-item"},[s("span",[i._v("是")]),i._v(" "),i.medicineObj.isEntrust?s("img",{attrs:{src:e("yS0J")}}):s("img",{attrs:{src:e("Xjmz")}})])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.medicineObj.isEntrust,expression:"medicineObj.isEntrust"}]},[s("mt-cell",{attrs:{title:"委托领取人姓名："}},[i._v(i._s(i.medicineObj.entrustName))]),i._v(" "),s("mt-cell",{attrs:{title:"委托领取人身份证号："}},[i._v(i._s(i.medicineObj.entrustIdcard))])],1)]),i._v(" "),30===i.dsStatus?s("div",{staticClass:"medicine-apply-detail"},[i._m(0),i._v(" "),i._l(i.medicineObj.actEntrys,function(t,e){return s("div",{key:e,staticClass:"details-container"},[s("div",{staticClass:"detail-item"},[s("div",{staticClass:"left"},[s("span",[i._v("兽药名称：")]),i._v(" "),s("span",[i._v(i._s(t.materialName))])])]),i._v(" "),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"left"},[s("span",[i._v("数量：")]),i._v(" "),s("span",[i._v(i._s(t.num))])])]),i._v(" "),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"left"},[s("span",[i._v("兽药单价：")]),i._v(" "),s("span",[i._v(i._s(t.price))])]),i._v(" "),s("div",{staticClass:"right"},[s("span",[i._v("金额：")]),i._v(" "),s("span",[i._v(i._s(t.amount))])])])])})],2):i._e(),i._v(" "),s("Signature",{directives:[{name:"show",rawName:"v-show",value:i.isShowSignature,expression:"isShowSignature"}],ref:"signature"}),i._v(" "),2!=i.recordState&&30==i.dsStatus?s("SubmitBtn",{nativeOn:{click:function(t){return i.submitData()}}}):i._e(),i._v(" "),s("div",{staticStyle:{visibility:"hidden"}},[s("audio",{ref:"audioS",attrs:{controls:"",src:i.medicineObj.voiceUrl}})])],1)},staticRenderFns:[function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"top"},[t("span",[this._v("实际领用明细")])])}]};var l=e("C7Lr")(u,b,!1,function(i){e("xKfx")},null,null);t.default=l.exports},Jj7Z:function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAABHNCSVQICAgIfAhkiAAAATJJREFUOI2l078rxHEcx/EHR0RJuqyGS3SlRJlcOWGQblD+AINMyuJvMNjNMhssFuTXTBGDgQjT1ZEiFjF8P/Lt3DnHuz71en9+PPu8P6/3J+HvsYwWnP2DAVK4RSskftjYgXbcx+YasB5GPtwoi+1ykGE8IFdibQtLQbehgOZSkAW84T0GmkcmVtLTZ0nYxHgdhmKQOUyWgB9jFV24xAlGsIZdZOqCqBR7oocdxQYO0BdA18jV/gISv1VP0HdIBl1AshpQK56DbsJr0I14+S2oBgMix4ha4yroJPK1oj7IiizfKQOaxQ3OQz6G/aB7cVh8IIFFkfVx+/t9vUkWR7Ezh+guV8oEHn1vyHpcYDDkaZyWg3xGCp1Fcw2YiuUrmKkEqhRDop+fgGrsL440pkXfyQfDFTiEaUH0+AAAAABJRU5ErkJggg=="},xKfx:function(i,t){}});
//# sourceMappingURL=7.079c6c1c45598bdce983.js.map
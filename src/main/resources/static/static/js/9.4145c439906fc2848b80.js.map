{"version":3,"sources":["webpack:///./src/assets/icon-top.png","webpack:///src/components/takePhotoItem.vue","webpack:///./src/components/takePhotoItem.vue?4cde","webpack:///./src/components/takePhotoItem.vue","webpack:///src/views/business/goOutApplication/detail.vue","webpack:///./src/views/business/goOutApplication/detail.vue?6ca4","webpack:///./src/views/business/goOutApplication/detail.vue"],"names":["module","exports","takePhotoItem","name","data","photoList","currentPhotoInfo","serverId","cameraData","newPhotoList","isShow","imgSrc","imgNum","props","itemInfo","type","Object","default","currentIndex","Number","computed","extends_default","vuex_esm","created","this","isNewFoto","initWxConfig","console","log","countNum","watch","newVal","oldVal","methods","isTakePhoto","length","goPhotoDetail","itemId","maxQty","minQty","takePhoto","id","maxNum","minNum","$router","push","params","rcordId","allPhotoLists","isFirst","_weixin_js_sdk_1_4_0_test_weixin_js_sdk_default","a","config","debug","appId","signature","timestamp","nonceStr","jsApiList","uploadImg","v","uploadImage","localId","loadId","toString","isShowProgressTips","success","res","photo","serviceId","isDelete","$toast","message","duration","imgList","map","item","imgType","newArr","$nextTick","src","$store","commit","fail","stringify_default","getBase64ByLocalId","getLocalImgData","localData","ready","chooseImage","count","sizeType","sourceType","localIds","wxUtil","components_takePhotoItem","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_e","_v","attrs","auto","alt","_l","site","link","key","img","_s","staticRenderFns","src_components_takePhotoItem","__webpack_require__","normalizeComponent","ssrContext","detail","components","myHeader","Header","allPhotoList","reason","startTimeText","endTimeText","approvalName","billStatusIndex","approveStatusIndex","approveAdminName","serviceSite","cleanTypeId","stateStatus","submitBtnText","isSubmit","colorList","beforeRouteEnter","to","from","next","vm","sessionStorage","setItem","ajaxData","updated","mounted","updateData","e","replace","trim","getDetail","getStepDetail","_this","personGoOut","base64RcordId","then","status","custName","planOutDate","planResultDate","approvalAdminName","steps","data1","show","itemInfoList","option","index","imgs","sites","forEach","_this2","_data","i","j","k","catch","err","cancel","togglePhotoItem","submit","isAlert","mint_ui_common","goPromise","isTrue","_this3","confirm","action","planReturnDate","setTimeout","goOutApplication_detail","staticStyle","max-width","box-sizing","isBack","backPath","title","slot","style","backgroundColor","color","class","rank","disabled","detail_Component","detail_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/9.4145c439906fc2848b80.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA0UlEQVRYR+2UWw0CQQxF73WABRyABByAA9YBUnAADsABEsABFnBQ0mQmmZDtPPqzIen8T+7p6YNY+HHhfARAGAgDYeB/DYjIBsAtXdIDyZfnqroMpPAHgFUK/QDYeSCGAWbCc+EuiCGASrgbohvACJ9S8qXo/5CJLgArnORVg0XkCMAF0QRohefKvRBVABHRKX8X0655U678d+0MiDVJbcvsawHorj+Ln2Z4xcS2tp49LdA+7wGcrMoNE2cAd5I6H+ZrAniu28ifAAgDYSAMhIEvvgdTIbfvgiIAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/icon-top.png\n// module id = +ciL\n// module chunks = 9","<template>\n  <div class=\"takePhotoList-item\" @click=\"isTakePhoto()\">\n    <div class=\"takePhotoBox\" v-if=\"itemInfo.photoList.length===0\">\n     <!-- <div class=\"takePhoto-image\" v-if=\"isFirst(itemInfo.photoList)\"></div>\n      <mt-swipe :auto=\"4000\" v-else>\n        <mt-swipe-item v-for=\"(site,link) in itemInfo.photoList\" :key=\"link\" v-if=\"isShow\">\n          <img :src=\"site.src?site.src:site.img\" class=\"takePicture\" alt=\"\">\n        </mt-swipe-item>\n        <mt-swipe-item :key=\"link\" v-else>\n          <img :src=\"imgSrc\" class=\"takePicture\" alt=\"\">\n        </mt-swipe-item>\n      </mt-swipe>-->\n        <div class=\"takePhoto-image\" v-if=\"!isShow\"></div>\n        <mt-swipe :auto=\"4000\">\n          <mt-swipe-item v-if=\"isShow\">\n            <img :src=\"imgSrc\" class=\"takePicture\" alt=\"\">\n          </mt-swipe-item>\n        </mt-swipe>\n    </div>\n    <div  class=\"takePhotoBox\" v-else>\n      <mt-swipe :auto=\"4000\">\n        <mt-swipe-item v-for=\"(site,link) in newPhotoList\" :key=\"link\">\n          <img :src=\"site.src?site.src:site.img\" class=\"takePicture\" alt=\"\">\n        </mt-swipe-item>\n      </mt-swipe>\n    </div>\n    <p>{{itemInfo.name}}</p>\n    <p>({{imgNum}}/{{itemInfo.minQty}})</p>\n  </div>\n\n</template>\n<script>\n  import wx from \"weixin-js-sdk\";\n  import {mapMutations,mapGetters} from 'vuex'\n  import {getOSType} from \"@/utils/wxUtil\";\n  import {Indicator} from  'mint-ui'\n    export default {\n        name: \"takePhotoItem\",\n        data() {\n            return {\n              photoList:[],\n              currentPhotoInfo: {},\n              serverId:[],\n              cameraData:[],\n              newPhotoList:[],\n              isShow:false,\n              imgSrc:'',\n              imgNum:0\n            }\n        },\n        props:{\n          itemInfo:{\n            type:Object,\n            default: () => {\n              return {};\n            }\n          },\n          currentIndex:{\n            type:Number,\n            default:0\n          },\n\n        },\n      computed: {\n        ...mapGetters([\"signature\",'allPhotoLists'])\n      },\n      created(){\n        if(this.itemInfo.isNewFoto=='true'){\n          this.cameraData=[\"camera\"];\n        }else{\n          this.cameraData=['album',\"camera\"];\n        }\n        this.initWxConfig();\n        this.photoList=this.itemInfo.photoList;\n        this.newPhotoList=this.itemInfo.photoList;\n        console.log(this.newPhotoList,'photoList-item');\n        if(this.countNum(this.itemInfo.photoList)>0){\n          this.imgNum=this.countNum(this.itemInfo.photoList)\n        }\n      },\n      watch:{\n        newPhotoList:function (newVal,oldVal) {\n          this.photoList=this.itemInfo.photoList;\n          return this.itemInfo.photoList;\n        }\n      },\n      methods: {\n        isTakePhoto(){\n            if(this.itemInfo.photoList){\n              if(this.itemInfo.photoList.length>=1){\n                this.goPhotoDetail(this.itemInfo.itemId,this.itemInfo.maxQty,this.itemInfo.minQty,this.itemInfo.isNewFoto,this.itemInfo.name,this.itemInfo.isTakePhoto)\n              }else {\n                this.takePhoto()\n              }\n            }else {\n              this.takePhoto()\n            }\n          },\n          countNum(data){ //获取上传图片数量\n            if(data){\n              return data.length;\n            }else {\n              return 0\n            }\n          },\n          goPhotoDetail(id,maxNum,minNum,isNewFoto,name,isTakePhoto){\n            this.$router.push({\n              name:'TakePhotoList',\n              params:{\n                id:id,\n                maxNum:maxNum,\n                minNum:minNum,\n                rcordId:this.allPhotoLists.rcordId,\n                isNewFoto:isNewFoto,\n                name:name,\n                isTakePhoto:isTakePhoto\n              }\n            })\n          },\n          isFirst(data){ //是否显示拍照图片\n            if(data){\n              return data.length === 0;\n            }else {\n              return true\n            }\n          },\n          initWxConfig() {\n            wx.config({\n              debug: false, //\n              appId: this.signature.appId, // 必填，企业号的唯一标识，此处填写企业号corpid\n              timestamp: this.signature.timestamp, // 必填，生成签名的时间戳\n              nonceStr: this.signature.nonceStr, // 必填，生成签名的随机串\n              signature: this.signature.signature, // 必填，签名，见附录1\n              jsApiList: [\n                \"chooseImage\",\n                \"getNetworkType\",\n                \"uploadImage\",\n                \"previewImage\"\n              ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\n            });\n          },\n          uploadImg() {\n            let v = this;\n            wx.uploadImage({\n              localId: v.currentPhotoInfo.loadId.toString(), // 需要上传的图片的本地ID，由chooseImage接口获得\n              isShowProgressTips: 1, // 默认为1，显示进度提示\n              success: function (res) {\n                // v.$toast(res.serverId);\n                const photo = v.currentPhotoInfo;\n                photo.serviceId = res.serverId;\n                v.currentPhotoInfo = {};\n                v.newPhotoList.push({isDelete:true,...photo});\n                v.serverId.push(res.serverId);\n                v.$toast({\n                  message:'上传成功!',\n                  duration:2000\n                });\n                //更新photoList状态\n                let imgList=v.serverId.map((item)=>{\n                  return{\n                    serverId:item,\n                    imgType:'jpg'\n                  }\n                });\n                let newArr=[{\n                  itemId:v.itemInfo.itemId,\n                  name:v.itemInfo.name,\n                  data:imgList,\n                  isNewFoto:v.itemInfo.isNewFoto,\n                  photoList:v.newPhotoList,\n                  serverId: v.serverId\n                }];\n                // window.location.reload();\n                v.$nextTick(function () {\n                  v.imgSrc=v.newPhotoList[0].src;\n                  v.imgNum=1;\n                  v.isShow=true\n                });\n                console.log(newArr,'takephoto-item_photoList');\n                v.$store.commit('SET_PHOTOLIST',newArr);\n\n              },\n              fail: function (res) {\n                v.$toast(\"上传失败:\" + JSON.stringify(res));\n                v.currentPhotoInfo = {};\n              }\n            });\n          },\n        getBase64ByLocalId(localId) {\n          const v = this;\n          wx.getLocalImgData({\n            localId: localId.toString(), // 图片的localID\n            success: res => {\n              v.currentPhotoInfo.src = res.localData;\n              v.uploadImg()\n            }\n          });\n        },\n        takePhoto(){\n            let v = this;\n            wx.ready(function () {\n              wx.chooseImage({\n                count: 1, // 默认9\n                sizeType: [\"original\", \"compressed\"], // 可以指定是原图还是压缩图，默认二者都有\n                sourceType:v.cameraData, // 可以指定来源是相册还是相机，默认二者都有\n                success: function (res) {\n                  const localId = res.localIds;\n                  v.currentPhotoInfo.loadId = localId;\n                  if (getOSType() === 1) {\n                    v.currentPhotoInfo.src = localId;\n                    v.uploadImg()\n                  } else if (getOSType() === 2) {\n                    v.getBase64ByLocalId(localId);\n                  }\n                }\n              });\n            });\n          },\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n  .takePhotoList-item{\n\n    .takePhoto-image{\n      background: url('~@/assets/icon-takePhoto.png') no-repeat;\n      width: 45px;\n      height: 40px;\n      background-size:45px 40px;\n      position: relative;\n      top: 45%;\n      left: 50%;\n      transform: translate(-50%,-50%);\n    }\n    .takePhotoBox{\n      height: .88rem;\n      overflow: hidden;\n      background:#F4F4F4;\n      text-align: center;\n      .takePicture{\n        width: 100%;\n        height: 100%;\n      }\n      img{\n        width: .34rem;\n        height: .27rem;\n        overflow: hidden;\n        position: relative;\n        top: 45%;\n        transform: translateY(-50%);\n      }\n    }\n    p{\n      font-size:12px;\n      color:#333331;\n      text-align: center;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/takePhotoItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"takePhotoList-item\",on:{\"click\":function($event){return _vm.isTakePhoto()}}},[(_vm.itemInfo.photoList.length===0)?_c('div',{staticClass:\"takePhotoBox\"},[(!_vm.isShow)?_c('div',{staticClass:\"takePhoto-image\"}):_vm._e(),_vm._v(\" \"),_c('mt-swipe',{attrs:{\"auto\":4000}},[(_vm.isShow)?_c('mt-swipe-item',[_c('img',{staticClass:\"takePicture\",attrs:{\"src\":_vm.imgSrc,\"alt\":\"\"}})]):_vm._e()],1)],1):_c('div',{staticClass:\"takePhotoBox\"},[_c('mt-swipe',{attrs:{\"auto\":4000}},_vm._l((_vm.newPhotoList),function(site,link){return _c('mt-swipe-item',{key:link},[_c('img',{staticClass:\"takePicture\",attrs:{\"src\":site.src?site.src:site.img,\"alt\":\"\"}})])}),1)],1),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.itemInfo.name))]),_vm._v(\" \"),_c('p',[_vm._v(\"(\"+_vm._s(_vm.imgNum)+\"/\"+_vm._s(_vm.itemInfo.minQty)+\")\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5dd9494b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/takePhotoItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dd9494b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./takePhotoItem.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./takePhotoItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./takePhotoItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dd9494b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./takePhotoItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dd9494b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/takePhotoItem.vue\n// module id = null\n// module chunks = ","<template>\n  <div style=\"max-width: 100%;box-sizing: border-box;\" class=\"container\">\n    <myHeader\n      :isBack=\"true\"\n      backPath=\"/clearRecord\"\n      title=\"返场消毒记录详情\"\n    >\n    </myHeader>\n    <div class=\"mt4 list-block\">\n      <mt-cell>\n        <div slot=\"title\" class=\"info\">出场信息</div>\n      </mt-cell>\n      <div class=\"info\">\n        <mt-cell>\n          <span slot=\"title\" class=\"grey f14\">姓名:</span>\n          <span class=\"f14\">{{allPhotoLists.name}}</span>\n        </mt-cell>\n        <mt-cell class=\"border-dash\">\n          <span slot=\"title\" class=\"grey\">计划出场时间：</span>\n          <span class=\"color-text\">\n            {{allPhotoLists.startTimeText}}\n          </span>\n          <span class=\"time\"></span>\n        </mt-cell>\n        <mt-cell class=\"border-none\">\n          <span slot=\"title\" class=\"grey\">计划返场时间：</span>\n          <span class=\"color-text\" >\n            {{allPhotoLists.endTimeText}}\n          </span>\n          <span class=\"time\"></span>\n        </mt-cell>\n      </div>\n      <div class=\"divide\"></div>\n      <div class=\"info\">\n        <mt-cell title=\"出场事由\"></mt-cell>\n        <div class=\"reason-body\">\n          <div class=\"reason\">{{allPhotoLists.reason}}</div>\n        </div>\n      </div>\n      <div v-if=\"allPhotoLists.approveStatusIndex!=29\">\n        <div class=\"divide\"></div>\n        <mt-cell>\n          <span slot=\"title\" class=\"f16-black\">审批管理员</span>\n          <span class=\"f14-black\">{{allPhotoLists.approveAdminName}}</span>\n        </mt-cell>\n        <mt-cell>\n          <span slot=\"title\" class=\"f14 grey\">审批结果</span>\n          <span class=\"blue f14\" v-if=\"allPhotoLists.approveStatusIndex==1\">同意</span>\n          <span class=\"red f14\" v-if=\"allPhotoLists.approveStatusIndex==2\">不同意</span>\n        </mt-cell>\n        <div class=\"divide\"></div>\n        <div class=\"photoList-item\" v-for=\"(item,index) in allPhotoLists.serviceSite\" :key=\"index\">\n          <div class=\"header\" @click=\"togglePhotoItem(index)\" :style=\"{backgroundColor:colorList[index%3]}\">\n            <div class=\"left\">\n              <span class=\"circle\"><i :style=\"{color:colorList[index%3]}\">{{index+1}}</i></span>\n              {{item.name}}\n            </div>\n            <span>\n              <img src=\"../../../assets/icon-top.png\" alt=\"\" :class=\"item.show?'':'rotate'\">\n            </span>\n          </div>\n          <div  class=\"takePhotoList\" v-if=\"item.show\">\n            <take-photo-item :itemInfo=\"option\" :currentIndex=\"rank\"  v-for=\"(option,rank) in item.itemInfoList\" :key=\"rank\" class=\"takePhoto-item\">\n            </take-photo-item>\n          </div>\n        </div>\n      </div>\n      <div class=\"btn-list\" v-if=\"allPhotoLists.billStatusIndex==1&&allPhotoLists.approveStatusIndex==1\">\n        <mt-button type=\"default\" @click=\"submit(false)\">暂存</mt-button>\n        <mt-button type=\"primary\" @click=\"submit(true)\" :disabled=\"isSubmit\">{{submitBtnText}}</mt-button>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import myHeader from \"@/components/Header\";\n  import takePhotoItem from \"@/components/takePhotoItem\";\n  import {getApplyRecord ,getApplyStepRecord,addApply} from '@/api/personGoOut'\n  import {getParam} from '@/utils/wxUtil'\n  import {MessageBox,Toast } from  'mint-ui'\n  import { mapMutations,mapGetters} from 'vuex'\n  export default {\n    name: \"AddGoOutDetail\",\n    components:{\n      myHeader,\n      takePhotoItem\n    },\n    data(){\n      return{\n        allPhotoList:{\n          name:'',\n          reason:'',\n          startTimeText:'',\n          endTimeText:'',\n          approvalName:'',\n          billStatusIndex:true,\n          approveStatusIndex:'',\n          approveAdminName:'',\n          serviceSite:[],\n          cleanTypeId:'',\n          stateStatus:1,\n          rcordId:'',\n          photoList:[]\n        },\n        submitBtnText:'提交',\n        isSubmit:false,\n        colorList:['#FF6A69','#EE6836','#5EC97E']\n      }\n    },\n    beforeRouteEnter(to,from,next){\n      next(vm=>{\n        if (from.name === 'ClearRecord') {\n          vm.$store.commit('CLEAR_PHOTOLIST',[]);\n          sessionStorage.setItem('photoList',[]);\n          vm.$store.commit('CLEAR_ALLPHOTOLIST',[]);\n          sessionStorage.setItem('allPhotoLists',[]);\n          vm.ajaxData();\n        }\n      });\n    },\n    created(){\n\n    },\n    computed:{\n      ...mapGetters([\n        'photoList',\n        'allPhotoLists'\n      ])\n    },\n    updated(){\n      // this.concatData();\n    },\n    watch:{\n      allPhotoList:function (newVal,oldVal) {\n        console.log(newVal);\n      }\n    },\n    mounted(){\n\n    },\n    methods:{\n      updateData(e){\n      },\n      ajaxData(){\n        this.allPhotoList.rcordId = getParam('rcordId').replace(/%3D/g, '=').trim();\n        this.getDetail(this.allPhotoList.rcordId);\n        this.getStepDetail(false);\n        console.log(this.allPhotoList);\n        this.$store.commit('SET_ALLPHOTOLIST',this.allPhotoList);\n      },\n\n      getDetail(data){//获取消毒记录出场详情\n        let v=this;\n        getApplyRecord({\n          base64RcordId:data\n        }).then((res)=>{\n          if(res.status===200){\n            this.allPhotoList.name=res.data.custName;\n            this.allPhotoList.reason = res.data.reason;\n            this.allPhotoList.startTimeText=res.data.planOutDate;\n            this.allPhotoList.endTimeText=res.data.planResultDate;\n            this.allPhotoList.approveStatusIndex = res.data.approveStatusIndex?res.data.approveStatusIndex:29;\n            this.allPhotoList.approveAdminName=res.data.approveAdminName?res.data.approveAdminName:'无';\n            this.allPhotoList.approvalName= res.data.approvalAdminName;\n\n            this.allPhotoList.billStatusIndex=res.data.billStatusIndex;\n            if(res.data.steps){ //假如存在暂存消洗步骤，需要编辑时，\n              if(res.data.steps.length>0){\n                let data1 =res.data.steps.map((item)=>{ //拼接数据\n                  return{\n                    name:item.name,\n                    show:true,\n                    itemInfoList: item.item.map((option,index)=>{\n                      return {\n                        itemId:option.itemId,\n                        name:option.name,\n                        maxQty:option.maxQty,\n                        minQty:option.minQty,\n                        isNewFoto:option.isNewFoto,\n                        isTakePhoto:this.allPhotoList.approveStatusIndex==1&&this.allPhotoList.billStatusIndex!=5?true:false,\n                        photoList:option.imgs.map((sites)=>{\n                          return {\n                            img:sites.img,\n                            isDelete:false\n                          }\n                        })\n                      }\n                    })\n                  }\n                });\n\n                this.allPhotoList.serviceSite=data1; //获取设置消毒返场步骤\n                //拼接数据\n                console.log( this.allPhotoList.serviceSite,'serviceSite');\n                let newArr=[];\n                res.data.steps.forEach((item,index)=>{\n                  item.item.forEach((sites,index)=>{\n                    newArr.push({\n                      itemId:sites.itemId,\n                      name:sites.name,\n                      maxQty:sites.maxQty,\n                      isNewFoto:sites.isNewFoto,\n                      minQty:sites.minQty,\n                      isDelete:false,\n                      isTakePhoto:this.allPhotoList.approveStatusIndex==1&&this.allPhotoList.billStatusIndex!=5?true:false,\n                      photoList: sites.imgs.map((option)=>{\n                        return {\n                          isDelete:false,\n                          img:option.img\n                        }\n                      })\n                    })\n                  })\n                });\n                this.allPhotoList.photoList= newArr;\n                this.$store.commit('SET_PHOTOLIST',newArr);\n              }else {\n                if(this.allPhotoList.approveStatusIndex==1){\n                  this.getStepDetail(true);\n                }\n              }\n            }else{ //不存在暂存消洗步骤，即初次拍照消洗时\n              if(this.allPhotoList.approveStatusIndex==1){\n                this.getStepDetail(true);\n              }\n            }\n          }\n        })\n      },\n      getStepDetail(data){\n\n        let v=this;\n        getApplyStepRecord().then((res)=>{\n          if(res.status===200){\n            this.allPhotoList.cleanTypeId= res.data[0].id;\n            if(data){\n              let data = res.data.map((item)=>{\n                return {\n                  id:item.id,\n                  itemInfoList:item.itemInfoList.map((item)=>{\n                    return {\n                      isNewFoto:item.isNewFoto,\n                      itemId:item.itemId,\n                      maxQty:item.maxQty,\n                      minQty:item.minQty,\n                      isTakePhoto:true,\n                      name:item.name\n                    }\n                  }),\n                  name:item.name,\n                  show:true\n                }\n              });\n              if(v.allPhotoList.photoList){\n                for(let i=0;i<data.length;i++){\n                  for (let j = 0; j <data[i].itemInfoList.length; j++) {\n                    for (let k = 0; k < v.photoList.length; k++) {\n                      if(data[i].itemInfoList[j].itemId===v.allPhotoList.photoList[k].itemId){\n                        data[i].itemInfoList[j].photoList=v.allPhotoList.photoList[k].photoList;\n                        data[i].itemInfoList[j].serverId=v.allPhotoList.photoList[k].serverId;\n                        data[i].itemInfoList[j].isTakePhoto=v.allPhotoList.approveStatusIndex===1?true:false;\n                      }\n                    }\n                  }\n                }\n                v.allPhotoList.serviceSite=data;\n                console.log(v.allPhotoList.serviceSite,'newServiceSite');\n              }else{\n                v.allPhotoList.serviceSite=data;\n              }\n            }\n\n          }\n        }).catch((err)=>{\n\n        })\n      },\n      cancel(){\n        this.$router.push('/clearRecord')\n      },\n      togglePhotoItem(index){\n        this.allPhotoList.serviceSite[index].show= !this.allPhotoList.serviceSite[index].show;\n      },\n      goPhotoDetail(id,maxNum,minNum,isNewFoto,name,isTakePhoto){\n        this.$router.push({\n          name:'TakePhotoList',\n          params:{\n            id:id,\n            maxNum:maxNum,\n            minNum:minNum,\n            rcordId:this.allPhotoList.rcordId,\n            isNewFoto:isNewFoto,\n            name:name,\n            isTakePhoto:isTakePhoto\n          }\n        })\n      },\n      submit(data){\n        if(data){\n          let isAlert= true;\n          for (let i = 0; i <this.allPhotoLists.serviceSite.length; i++) {\n            let item=this.allPhotoLists.serviceSite[i];\n            for (let j = 0; j < this.allPhotoLists.serviceSite[i].itemInfoList.length; j++) {\n              let option=this.allPhotoLists.serviceSite[i].itemInfoList[j];\n              if(this.allPhotoLists.serviceSite[i].itemInfoList[j].photoList){\n                if(option.photoList.length<option.minQty||option.photoList.length>option.maxQty){\n                  Toast(`${item.name}的${option.name}照片最少${option.minQty}张，最多${option.maxQty}张`);\n                  return false;\n                }\n              }else{\n                Toast(`${item.name}的${option.name}照片最少${option.minQty}张，最多${option.maxQty}张`);\n                isAlert = false;\n                return false;\n              }\n            }\n          }\n          if(isAlert){\n            this.goPromise(data)\n          }\n        }else{\n          this.goPromise(data)\n        }\n      },\n      goPromise(isTrue){\n        if(isTrue){\n          MessageBox.confirm(\"是否完成所有操作并提交数据?提交后不能操作此单据\").then(action => {\n            this.isSubmit=true;\n            this.submitBtnText=\"提交中...\";\n            //获取图片列表\n            let imgList=this.allPhotoLists.photoList;\n            //提交数据\n            let data={\n              base64RcordId:this.allPhotoLists.rcordId,\n              cleanTypeId:this.allPhotoLists.cleanTypeId,\n              name:this.allPhotoLists.name,\n              reason:this.allPhotoLists.reason,\n              planOutDate:this.allPhotoLists.startTimeText,\n              planReturnDate:this.allPhotoLists.endTimeText,\n              submit:isTrue,\n              imgs:imgList.map((item)=>{\n                return {\n                  itemId:item.itemId,\n                  name:item.name,\n                  data:item.data,\n                  isNewFoto:item.isNewFoto\n                }\n              })\n            };\n            console.log(data,'submit');\n            addApply(data).then(res=>{\n              if(res.status===200){\n                Toast({\n                  message:'提交成功',\n                  duration:1500\n                });\n                setTimeout(()=>{\n                  this.$router.push('/clearRecord');\n                },2000)\n              }\n              this.isSubmit=false;\n              this.submitBtnText=\"提交\";\n            }).catch(err=>{\n              Toast('提交失败');\n              this.isSubmit=false;\n              this.submitBtnText=\"提交\";\n            })\n          });\n        }else {//暂存\n          //获取图片列表\n          let imgList=this.allPhotoLists.photoList;\n          //提交数据\n          let data={\n            base64RcordId:this.allPhotoLists.rcordId,\n            cleanTypeId:this.allPhotoLists.cleanTypeId,\n            name:this.allPhotoLists.name,\n            reason:this.allPhotoLists.reason,\n            planOutDate:this.allPhotoLists.startTimeText,\n            planReturnDate:this.allPhotoLists.endTimeText,\n            submit:isTrue,\n            imgs:imgList.map((item)=>{\n              return {\n                itemId:item.itemId,\n                name:item.name,\n                data:item.data\n              }\n            })\n          };\n          console.log(data,'store');\n          addApply(data).then(res=>{\n            if(res.status===200){\n              Toast({\n                message:'暂存成功',\n                duration:1500\n              });\n              setTimeout(()=>{\n                this.$router.push('/clearRecord');\n              },2000)\n            }\n          }).catch(err=>{\n            Toast('暂存失败');\n          })\n\n        }\n\n\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .container{\n    min-height: 100vh;\n    background-color: #f8f8f8;\n    padding: 0.12rem 0;\n    .border-dash{\n      border-bottom: 1px dashed #dddddd;\n    }\n    .mint-cell-wrapper{\n      padding:0 20px 0 10px !important;\n    }\n    .border-none{\n      border-bottom: none;\n    }\n    .f16-black{\n      font-size: 16px;\n      color: #000000;\n    }\n    .f14-black{\n      font-size: 14px;\n      color: #000000;\n    }\n    .f14-grey{\n      color: #8B8B8D;\n      font-size: 14px;\n    }\n    .blue{\n      color: #108EE9;\n    }\n    .red{\n      color: red;\n    }\n    .f14{\n      font-size: 14px;\n    }\n    .list-block{\n      .info{\n        padding-left: .25rem;\n        background: #ffffff;\n      }\n      .time{\n        height: .14rem;\n        width: .14rem;\n        background: url(\"~@/assets/time.png\") no-repeat;\n        background-size: 100%;\n        margin-left: .1rem;\n      }\n      .reason-body{\n        min-height: .9rem;\n        .reason{\n          color: #8B8B8D;\n          font-size: 14px;\n          line-height: 30px;\n        }\n      }\n      .photoList-item{\n        margin-bottom: 15px;\n\n        .header{\n          padding-left: .12rem;\n          background: #7FCE9A;\n          color: #ffffff;\n          font-size: 18px;\n          display: flex;\n          height: 50px;\n          padding-right: .12rem;\n          justify-content: space-between;\n          align-items: center;\n          .left{\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n          }\n          .circle{\n            display: table;\n            border-radius: 50%;\n            background: #ffffff;\n            width: 18px;\n            height: 18px;\n            text-align: center;\n            vertical-align: middle;\n            margin-right: 6px;\n            i{\n              display: table-cell;\n              color: #000000;\n              font-size: 12px;\n            }\n          }\n          .rotate{\n            transform: rotate(180deg);\n          }\n        }\n        .takePhotoList{\n          padding:.1rem;\n          background: #ffffff;\n          display: flex;\n          justify-content: flex-start;\n          flex-wrap: wrap;\n          .takePhoto-item{\n            width: 31%;\n            margin-right: 3%;\n            padding-bottom: 10px;\n            &:nth-child(3n){\n              margin-right: 0;\n            }\n          }\n          .takePhotoBox{\n            height: .88rem;\n            overflow: hidden;\n            background:#F4F4F4;\n            text-align: center;\n            img{\n              width: .34rem;\n              height: .27rem;\n              overflow: hidden;\n              position: relative;\n              top: 45%;\n              transform: translateY(-50%);\n            }\n          }\n          p{\n            font-size:12px;\n            color:#333331;\n            text-align: center;\n          }\n        }\n        .takePicture{\n          width: 100% !important;\n          height: auto !important;\n          max-height: 100%;\n          overflow: hidden;\n          top:0!important;\n          transform: translateY(0) !important;\n        }\n      }\n      .btn-list{\n        margin-top:.21rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        .mint-button{\n          border-radius: 6px;\n          width: 1.6rem;\n          height: .44rem;\n          font-size: 14px;\n          &:first-child{\n            margin-right: .15rem;\n          }\n        }\n        .mint-button--default{\n          background: #ffffff;\n        }\n      }\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/business/goOutApplication/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"max-width\":\"100%\",\"box-sizing\":\"border-box\"}},[_c('myHeader',{attrs:{\"isBack\":true,\"backPath\":\"/clearRecord\",\"title\":\"返场消毒记录详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mt4 list-block\"},[_c('mt-cell',[_c('div',{staticClass:\"info\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"出场信息\")])]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('mt-cell',[_c('span',{staticClass:\"grey f14\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"姓名:\")]),_vm._v(\" \"),_c('span',{staticClass:\"f14\"},[_vm._v(_vm._s(_vm.allPhotoLists.name))])]),_vm._v(\" \"),_c('mt-cell',{staticClass:\"border-dash\"},[_c('span',{staticClass:\"grey\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"计划出场时间：\")]),_vm._v(\" \"),_c('span',{staticClass:\"color-text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.allPhotoLists.startTimeText)+\"\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"time\"})]),_vm._v(\" \"),_c('mt-cell',{staticClass:\"border-none\"},[_c('span',{staticClass:\"grey\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"计划返场时间：\")]),_vm._v(\" \"),_c('span',{staticClass:\"color-text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.allPhotoLists.endTimeText)+\"\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"time\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"divide\"}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('mt-cell',{attrs:{\"title\":\"出场事由\"}}),_vm._v(\" \"),_c('div',{staticClass:\"reason-body\"},[_c('div',{staticClass:\"reason\"},[_vm._v(_vm._s(_vm.allPhotoLists.reason))])])],1),_vm._v(\" \"),(_vm.allPhotoLists.approveStatusIndex!=29)?_c('div',[_c('div',{staticClass:\"divide\"}),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"f16-black\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"审批管理员\")]),_vm._v(\" \"),_c('span',{staticClass:\"f14-black\"},[_vm._v(_vm._s(_vm.allPhotoLists.approveAdminName))])]),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"f14 grey\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"审批结果\")]),_vm._v(\" \"),(_vm.allPhotoLists.approveStatusIndex==1)?_c('span',{staticClass:\"blue f14\"},[_vm._v(\"同意\")]):_vm._e(),_vm._v(\" \"),(_vm.allPhotoLists.approveStatusIndex==2)?_c('span',{staticClass:\"red f14\"},[_vm._v(\"不同意\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"divide\"}),_vm._v(\" \"),_vm._l((_vm.allPhotoLists.serviceSite),function(item,index){return _c('div',{key:index,staticClass:\"photoList-item\"},[_c('div',{staticClass:\"header\",style:({backgroundColor:_vm.colorList[index%3]}),on:{\"click\":function($event){return _vm.togglePhotoItem(index)}}},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"circle\"},[_c('i',{style:({color:_vm.colorList[index%3]})},[_vm._v(_vm._s(index+1))])]),_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n          \")]),_vm._v(\" \"),_c('span',[_c('img',{class:item.show?'':'rotate',attrs:{\"src\":require(\"../../../assets/icon-top.png\"),\"alt\":\"\"}})])]),_vm._v(\" \"),(item.show)?_c('div',{staticClass:\"takePhotoList\"},_vm._l((item.itemInfoList),function(option,rank){return _c('take-photo-item',{key:rank,staticClass:\"takePhoto-item\",attrs:{\"itemInfo\":option,\"currentIndex\":rank}})}),1):_vm._e()])})],2):_vm._e(),_vm._v(\" \"),(_vm.allPhotoLists.billStatusIndex==1&&_vm.allPhotoLists.approveStatusIndex==1)?_c('div',{staticClass:\"btn-list\"},[_c('mt-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.submit(false)}}},[_vm._v(\"暂存\")]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isSubmit},on:{\"click\":function($event){return _vm.submit(true)}}},[_vm._v(_vm._s(_vm.submitBtnText))])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-12816c4a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/business/goOutApplication/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12816c4a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12816c4a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12816c4a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/business/goOutApplication/detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}